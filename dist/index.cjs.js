"use strict";var Is=Object.defineProperty,Ds=Object.defineProperties;var xs=Object.getOwnPropertyDescriptors;var Bt=Object.getOwnPropertySymbols;var tn=Object.prototype.hasOwnProperty,rn=Object.prototype.propertyIsEnumerable;var en=(t,e,r)=>e in t?Is(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,k=(t,e)=>{for(var r in e||(e={}))tn.call(e,r)&&en(t,r,e[r]);if(Bt)for(var r of Bt(e))rn.call(e,r)&&en(t,r,e[r]);return t},Ae=(t,e)=>Ds(t,xs(e));var Lt=(t,e)=>{var r={};for(var n in t)tn.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Bt)for(var n of Bt(t))e.indexOf(n)<0&&rn.call(t,n)&&(r[n]=t[n]);return r};Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var jn=require("react"),Q=require("@reduxjs/toolkit"),we=require("@srclaunch/types"),Us=require("history"),Os=require("react-dom"),Br=require("react-redux"),le=require("react-router-dom"),ie=require("@srclaunch/exceptions"),zn=require("@srclaunch/logger"),ur=require("@srclaunch/themes"),Zn=require("@srclaunch/validation"),Yn=require("react-router");function Lr(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Me=Lr(jn),Fs=Lr(Os),Ps=Lr(zn);const Rs={id:"dev",type:we.EnvironmentType.Development,public:!1,name:"Development",description:"Development environment"},nn={id:"test",type:we.EnvironmentType.NonProduction,public:!1,name:"Test",description:"Test environment"},Ms={id:"prod",type:we.EnvironmentType.Production,public:!0,name:"Production",description:"Production environment"};function Ns(){if(window){const t=window.location.hostname;return t.includes("localhost")||t.includes("127.0.0.1")?Rs:t.includes("test")?nn:Ms}return nn}const ks=t=>e=>r=>e(r),bs=new Ps.default,_s=t=>e=>r=>{try{return e(r)}catch(n){const i=new ie.UncaughtException(n.name,{cause:n});throw bs.exception(i.toJSON()),n}};var de=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Vs(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),e}function Bs(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sn={exports:{}};(function(t,e){(function(r,n){n(e)})(de,function(r){function n(y,T){y.super_=T,y.prototype=Object.create(T.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}})}function i(y,T){Object.defineProperty(this,"kind",{value:y,enumerable:!0}),T&&T.length&&Object.defineProperty(this,"path",{value:T,enumerable:!0})}function s(y,T,S){s.super_.call(this,"E",y),Object.defineProperty(this,"lhs",{value:T,enumerable:!0}),Object.defineProperty(this,"rhs",{value:S,enumerable:!0})}function o(y,T){o.super_.call(this,"N",y),Object.defineProperty(this,"rhs",{value:T,enumerable:!0})}function a(y,T){a.super_.call(this,"D",y),Object.defineProperty(this,"lhs",{value:T,enumerable:!0})}function l(y,T,S){l.super_.call(this,"A",y),Object.defineProperty(this,"index",{value:T,enumerable:!0}),Object.defineProperty(this,"item",{value:S,enumerable:!0})}function h(y,T,S){var x=y.slice((S||T)+1||y.length);return y.length=T<0?y.length+T:T,y.push.apply(y,x),y}function m(y){var T=typeof y=="undefined"?"undefined":Te(y);return T!=="object"?T:y===Math?"math":y===null?"null":Array.isArray(y)?"array":Object.prototype.toString.call(y)==="[object Date]"?"date":typeof y.toString=="function"&&/^\/.*\//.test(y.toString())?"regexp":"object"}function g(y,T,S,x,b,V,B){b=b||[],B=B||[];var H=b.slice(0);if(typeof V!="undefined"){if(x){if(typeof x=="function"&&x(H,V))return;if((typeof x=="undefined"?"undefined":Te(x))==="object"){if(x.prefilter&&x.prefilter(H,V))return;if(x.normalize){var ye=x.normalize(H,V,y,T);ye&&(y=ye[0],T=ye[1])}}}H.push(V)}m(y)==="regexp"&&m(T)==="regexp"&&(y=y.toString(),T=T.toString());var Ee=typeof y=="undefined"?"undefined":Te(y),me=typeof T=="undefined"?"undefined":Te(T),oe=Ee!=="undefined"||B&&B[B.length-1].lhs&&B[B.length-1].lhs.hasOwnProperty(V),Ce=me!=="undefined"||B&&B[B.length-1].rhs&&B[B.length-1].rhs.hasOwnProperty(V);if(!oe&&Ce)S(new o(H,T));else if(!Ce&&oe)S(new a(H,y));else if(m(y)!==m(T))S(new s(H,y,T));else if(m(y)==="date"&&y-T!==0)S(new s(H,y,T));else if(Ee==="object"&&y!==null&&T!==null)if(B.filter(function(te){return te.lhs===y}).length)y!==T&&S(new s(H,y,T));else{if(B.push({lhs:y,rhs:T}),Array.isArray(y)){var G;for(y.length,G=0;G<y.length;G++)G>=T.length?S(new l(H,G,new a(void 0,y[G]))):g(y[G],T[G],S,x,H,G,B);for(;G<T.length;)S(new l(H,G,new o(void 0,T[G++])))}else{var Ve=Object.keys(y),ve=Object.keys(T);Ve.forEach(function(te,f){var u=ve.indexOf(te);u>=0?(g(y[te],T[te],S,x,H,te,B),ve=h(ve,u)):g(y[te],void 0,S,x,H,te,B)}),ve.forEach(function(te){g(void 0,T[te],S,x,H,te,B)})}B.length=B.length-1}else y!==T&&(Ee==="number"&&isNaN(y)&&isNaN(T)||S(new s(H,y,T)))}function v(y,T,S,x){return x=x||[],g(y,T,function(b){b&&x.push(b)},S),x.length?x:void 0}function w(y,T,S){if(S.path&&S.path.length){var x,b=y[T],V=S.path.length-1;for(x=0;x<V;x++)b=b[S.path[x]];switch(S.kind){case"A":w(b[S.path[x]],S.index,S.item);break;case"D":delete b[S.path[x]];break;case"E":case"N":b[S.path[x]]=S.rhs}}else switch(S.kind){case"A":w(y[T],S.index,S.item);break;case"D":y=h(y,T);break;case"E":case"N":y[T]=S.rhs}return y}function D(y,T,S){if(y&&T&&S&&S.kind){for(var x=y,b=-1,V=S.path?S.path.length-1:0;++b<V;)typeof x[S.path[b]]=="undefined"&&(x[S.path[b]]=typeof S.path[b]=="number"?[]:{}),x=x[S.path[b]];switch(S.kind){case"A":w(S.path?x[S.path[b]]:x,S.index,S.item);break;case"D":delete x[S.path[b]];break;case"E":case"N":x[S.path[b]]=S.rhs}}}function A(y,T,S){if(S.path&&S.path.length){var x,b=y[T],V=S.path.length-1;for(x=0;x<V;x++)b=b[S.path[x]];switch(S.kind){case"A":A(b[S.path[x]],S.index,S.item);break;case"D":b[S.path[x]]=S.lhs;break;case"E":b[S.path[x]]=S.lhs;break;case"N":delete b[S.path[x]]}}else switch(S.kind){case"A":A(y[T],S.index,S.item);break;case"D":y[T]=S.lhs;break;case"E":y[T]=S.lhs;break;case"N":y=h(y,T)}return y}function U(y,T,S){if(y&&T&&S&&S.kind){var x,b,V=y;for(b=S.path.length-1,x=0;x<b;x++)typeof V[S.path[x]]=="undefined"&&(V[S.path[x]]={}),V=V[S.path[x]];switch(S.kind){case"A":A(V[S.path[x]],S.index,S.item);break;case"D":V[S.path[x]]=S.lhs;break;case"E":V[S.path[x]]=S.lhs;break;case"N":delete V[S.path[x]]}}}function M(y,T,S){if(y&&T){var x=function(b){S&&!S(y,T,b)||D(y,T,b)};g(y,T,x)}}function E(y){return"color: "+at[y].color+"; font-weight: bold"}function F(y){var T=y.kind,S=y.path,x=y.lhs,b=y.rhs,V=y.index,B=y.item;switch(T){case"E":return[S.join("."),x,"\u2192",b];case"N":return[S.join("."),b];case"D":return[S.join(".")];case"A":return[S.join(".")+"["+V+"]",B];default:return[]}}function N(y,T,S,x){var b=v(y,T);try{x?S.groupCollapsed("diff"):S.group("diff")}catch{S.log("diff")}b?b.forEach(function(V){var B=V.kind,H=F(V);S.log.apply(S,["%c "+at[B].text,E(B)].concat(ot(H)))}):S.log("\u2014\u2014 no diff \u2014\u2014");try{S.groupEnd()}catch{S.log("\u2014\u2014 diff end \u2014\u2014 ")}}function _(y,T,S,x){switch(typeof y=="undefined"?"undefined":Te(y)){case"object":return typeof y[x]=="function"?y[x].apply(y,ot(S)):y[x];case"function":return y(T);default:return y}}function j(y){var T=y.timestamp,S=y.duration;return function(x,b,V){var B=["action"];return B.push("%c"+String(x.type)),T&&B.push("%c@ "+b),S&&B.push("%c(in "+V.toFixed(2)+" ms)"),B.join(" ")}}function q(y,T){var S=T.logger,x=T.actionTransformer,b=T.titleFormatter,V=b===void 0?j(T):b,B=T.collapsed,H=T.colors,ye=T.level,Ee=T.diff,me=typeof T.titleFormatter=="undefined";y.forEach(function(oe,Ce){var G=oe.started,Ve=oe.startedTime,ve=oe.action,te=oe.prevState,f=oe.error,u=oe.took,c=oe.nextState,d=y[Ce+1];d&&(c=d.prevState,u=d.started-G);var p=x(ve),C=typeof B=="function"?B(function(){return c},ve,oe):B,I=We(Ve),W=H.title?"color: "+H.title(p)+";":"",z=["color: gray; font-weight: lighter;"];z.push(W),T.timestamp&&z.push("color: gray; font-weight: lighter;"),T.duration&&z.push("color: gray; font-weight: lighter;");var J=V(p,I,u);try{C?H.title&&me?S.groupCollapsed.apply(S,["%c "+J].concat(z)):S.groupCollapsed(J):H.title&&me?S.group.apply(S,["%c "+J].concat(z)):S.group(J)}catch{S.log(J)}var ae=_(ye,p,[te],"prevState"),ee=_(ye,p,[p],"action"),Ke=_(ye,p,[f,te],"error"),ut=_(ye,p,[c],"nextState");if(ae)if(H.prevState){var Vt="color: "+H.prevState(te)+"; font-weight: bold";S[ae]("%c prev state",Vt,te)}else S[ae]("prev state",te);if(ee)if(H.action){var Ts="color: "+H.action(p)+"; font-weight: bold";S[ee]("%c action    ",Ts,p)}else S[ee]("action    ",p);if(f&&Ke)if(H.error){var Es="color: "+H.error(f,te)+"; font-weight: bold;";S[Ke]("%c error     ",Es,f)}else S[Ke]("error     ",f);if(ut)if(H.nextState){var Cs="color: "+H.nextState(c)+"; font-weight: bold";S[ut]("%c next state",Cs,c)}else S[ut]("next state",c);Ee&&N(te,c,S,C);try{S.groupEnd()}catch{S.log("\u2014\u2014 log end \u2014\u2014")}})}function L(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=Object.assign({},bt,y),S=T.logger,x=T.stateTransformer,b=T.errorTransformer,V=T.predicate,B=T.logErrors,H=T.diffPredicate;if(typeof S=="undefined")return function(){return function(Ee){return function(me){return Ee(me)}}};if(y.getState&&y.dispatch)return console.error(`[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:
// Logger with default options
import { logger } from 'redux-logger'
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
// Or you can create your own logger with custom options http://bit.ly/redux-logger-options
import createLogger from 'redux-logger'
const logger = createLogger({
  // ...options
});
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
`),function(){return function(Ee){return function(me){return Ee(me)}}};var ye=[];return function(Ee){var me=Ee.getState;return function(oe){return function(Ce){if(typeof V=="function"&&!V(me,Ce))return oe(Ce);var G={};ye.push(G),G.started=De.now(),G.startedTime=new Date,G.prevState=x(me()),G.action=Ce;var Ve=void 0;if(B)try{Ve=oe(Ce)}catch(te){G.error=b(te)}else Ve=oe(Ce);G.took=De.now()-G.started,G.nextState=x(me());var ve=T.diff&&typeof H=="function"?H(me,Ce):T.diff;if(q(ye,Object.assign({},T,{diff:ve})),ye.length=0,G.error)throw G.error;return Ve}}}}var Z,se,fe=function(y,T){return new Array(T+1).join(y)},he=function(y,T){return fe("0",T-y.toString().length)+y},We=function(y){return he(y.getHours(),2)+":"+he(y.getMinutes(),2)+":"+he(y.getSeconds(),2)+"."+he(y.getMilliseconds(),3)},De=typeof performance!="undefined"&&performance!==null&&typeof performance.now=="function"?performance:Date,Te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},ot=function(y){if(Array.isArray(y)){for(var T=0,S=Array(y.length);T<y.length;T++)S[T]=y[T];return S}return Array.from(y)},Le=[];Z=(typeof de=="undefined"?"undefined":Te(de))==="object"&&de?de:typeof window!="undefined"?window:{},se=Z.DeepDiff,se&&Le.push(function(){typeof se!="undefined"&&Z.DeepDiff===v&&(Z.DeepDiff=se,se=void 0)}),n(s,i),n(o,i),n(a,i),n(l,i),Object.defineProperties(v,{diff:{value:v,enumerable:!0},observableDiff:{value:g,enumerable:!0},applyDiff:{value:M,enumerable:!0},applyChange:{value:D,enumerable:!0},revertChange:{value:U,enumerable:!0},isConflict:{value:function(){return typeof se!="undefined"},enumerable:!0},noConflict:{value:function(){return Le&&(Le.forEach(function(y){y()}),Le=null),v},enumerable:!0}});var at={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},bt={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(y){return y},actionTransformer:function(y){return y},errorTransformer:function(y){return y},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},_t=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=y.dispatch,S=y.getState;return typeof T=="function"||typeof S=="function"?L()({dispatch:T,getState:S}):void console.error(`
[redux-logger v3] BREAKING CHANGE
[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.
[redux-logger v3] Change
[redux-logger v3] import createLogger from 'redux-logger'
[redux-logger v3] to
[redux-logger v3] import { createLogger } from 'redux-logger'
`)};r.defaults=bt,r.createLogger=L,r.logger=_t,r.default=_t,Object.defineProperty(r,"__esModule",{value:!0})})})(sn,sn.exports);function Ls(t,e){const r=[];r.push(_s,ks);for(const n of e)r.push(n);return r}const qs=(t={})=>{const e={models:k({},t)};return Q.createSlice({initialState:e,name:"models",reducers:{init:()=>{}}}).reducer},Hs=({edit:t=!1,model:e,id:r})=>async(n,i)=>{},Ws=()=>async(t,e)=>{},Ks={aws:{}},Jn=Q.createSlice({initialState:Ks,name:"config",reducers:{setConfig:(t,e)=>{if(e.payload){const{aws:r}=e.payload;t.aws=r}}}}),{setConfig:$s}=Jn.actions;var js=Jn.reducer;const zs={detail:"",history:[],page:"/"},Gn=Q.createSlice({initialState:zs,name:"app",reducers:{goBack:t=>{const e=t.history.pop();e&&(t.page=e.page,t.detail=e.detail)}}});var Zs=Gn.reducer;Gn.actions;const Ys={list:[]},Xn=Q.createSlice({initialState:Ys,name:"routes",reducers:{setRoutes:(t,e)=>{t.list=e.payload}}}),{setRoutes:Js}=Xn.actions;var Gs=Xn.reducer,Xs=Q.combineReducers({config:js,navigation:Zs,routes:Gs});let Qn=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let n=r[t]&63;n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n<63?e+="_":e+="-"}return e};const cr=Q.createEntityAdapter({selectId:t=>t.id.toString()}),ei=Q.createSlice({initialState:cr.getInitialState(),name:"modals",reducers:{closeModal:(t,e)=>{cr.removeOne(t,e.payload)},showModal:(t,e)=>{const r=e.payload,n=Qn(6);cr.addOne(t,Ae(k({},r),{id:n}))}}});var Qs=ei.reducer;const{closeModal:eo,showModal:to}=ei.actions,lr=Q.createEntityAdapter({selectId:t=>t.id.toString()}),Cr=Q.createSlice({initialState:lr.getInitialState(),name:"notifications",reducers:{closeNotification:(t,e)=>{lr.removeOne(t,e.payload)},showNotification:(t,e)=>{const r=e.payload;lr.addOne(t,Ae(k({},r),{id:r.id}))}}});function ro({color:t,icon:e,message:r,timed:n,seconds:i}){return async(s,o)=>{const a=Qn(6);s(Cr.actions.showNotification({notification:{color:t,icon:e,id:a,message:r,seconds:i,timed:n}})),n&&i&&setTimeout(()=>{s(Cr.actions.closeNotification(a))},3e3)}}var no=Cr.reducer;const io={current:ur.AppLabLightTheme.id,list:[ur.AppLabLightTheme,ur.AppLabDarkTheme]},ti=Q.createSlice({initialState:io,name:"themes",reducers:{addThemes:(t,e)=>{t.list=e.payload},setTheme:(t,e)=>{t.current=e.payload}}}),{addThemes:ri,setTheme:ni}=ti.actions;var so=ti.reducer,oo=Q.combineReducers({modals:Qs,notifications:no,themes:so});class rt extends Error{}class ao extends rt{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class uo extends rt{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class co extends rt{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Ut extends rt{}class ii extends rt{constructor(e){super(`Invalid unit ${e}`)}}class Oe extends rt{}class $e extends rt{constructor(){super("Zone is an abstract class")}}const O="numeric",_e="short",Ie="long",Ar={year:O,month:O,day:O},si={year:O,month:_e,day:O},lo={year:O,month:_e,day:O,weekday:_e},oi={year:O,month:Ie,day:O},ai={year:O,month:Ie,day:O,weekday:Ie},ui={hour:O,minute:O},ci={hour:O,minute:O,second:O},li={hour:O,minute:O,second:O,timeZoneName:_e},fi={hour:O,minute:O,second:O,timeZoneName:Ie},hi={hour:O,minute:O,hourCycle:"h23"},di={hour:O,minute:O,second:O,hourCycle:"h23"},mi={hour:O,minute:O,second:O,hourCycle:"h23",timeZoneName:_e},gi={hour:O,minute:O,second:O,hourCycle:"h23",timeZoneName:Ie},pi={year:O,month:O,day:O,hour:O,minute:O},yi={year:O,month:O,day:O,hour:O,minute:O,second:O},vi={year:O,month:_e,day:O,hour:O,minute:O},wi={year:O,month:_e,day:O,hour:O,minute:O,second:O},fo={year:O,month:_e,day:O,weekday:_e,hour:O,minute:O},Si={year:O,month:Ie,day:O,hour:O,minute:O,timeZoneName:_e},Ti={year:O,month:Ie,day:O,hour:O,minute:O,second:O,timeZoneName:_e},Ei={year:O,month:Ie,day:O,weekday:Ie,hour:O,minute:O,timeZoneName:Ie},Ci={year:O,month:Ie,day:O,weekday:Ie,hour:O,minute:O,second:O,timeZoneName:Ie};function K(t){return typeof t=="undefined"}function tt(t){return typeof t=="number"}function nr(t){return typeof t=="number"&&t%1===0}function ho(t){return typeof t=="string"}function mo(t){return Object.prototype.toString.call(t)==="[object Date]"}function Ai(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch{return!1}}function go(t){return Array.isArray(t)?t:[t]}function on(t,e,r){if(t.length!==0)return t.reduce((n,i)=>{const s=[e(i),i];return n&&r(n[0],s[0])===n[0]?n:s},null)[1]}function po(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function yt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function qe(t,e,r){return nr(t)&&t>=e&&t<=r}function yo(t,e){return t-e*Math.floor(t/e)}function ue(t,e=2){const r=t<0;let n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function je(t){if(!(K(t)||t===null||t===""))return parseInt(t,10)}function Je(t){if(!(K(t)||t===null||t===""))return parseFloat(t)}function qr(t){if(!(K(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Hr(t,e,r=!1){const n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function Nt(t){return t%4===0&&(t%100!==0||t%400===0)}function Pt(t){return Nt(t)?366:365}function Xt(t,e){const r=yo(e-1,12)+1,n=t+(e-r)/12;return r===2?Nt(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Wr(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function Qt(t){const e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,r=t-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return e===4||n===3?53:52}function Ir(t){return t>99?t:t>60?1900+t:2e3+t}function Ii(t,e,r,n=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);const o=k({timeZoneName:e},s),a=new Intl.DateTimeFormat(r,o).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function ir(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);const n=parseInt(e,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function Di(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Oe(`Invalid unit value ${t}`);return e}function er(t,e){const r={};for(const n in t)if(yt(t,n)){const i=t[n];if(i==null)continue;r[e(n)]=Di(i)}return r}function tr(t,e){const r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${ue(r,2)}:${ue(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${ue(r,2)}${ue(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function sr(t){return po(t,["hour","minute","second","millisecond"])}const vo=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z0-9_+-]{1,256}(\/[A-Za-z0-9_+-]{1,256})?)?/,wo=["January","February","March","April","May","June","July","August","September","October","November","December"],xi=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],So=["J","F","M","A","M","J","J","A","S","O","N","D"];function Ui(t){switch(t){case"narrow":return[...So];case"short":return[...xi];case"long":return[...wo];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Oi=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Fi=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],To=["M","T","W","T","F","S","S"];function Pi(t){switch(t){case"narrow":return[...To];case"short":return[...Fi];case"long":return[...Oi];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Ri=["AM","PM"],Eo=["Before Christ","Anno Domini"],Co=["BC","AD"],Ao=["B","A"];function Mi(t){switch(t){case"narrow":return[...Ao];case"short":return[...Co];case"long":return[...Eo];default:return null}}function Io(t){return Ri[t.hour<12?0:1]}function Do(t,e){return Pi(e)[t.weekday-1]}function xo(t,e){return Ui(e)[t.month-1]}function Uo(t,e){return Mi(e)[t.year<0?0:1]}function Oo(t,e,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&s){const g=t==="days";switch(e){case 1:return g?"tomorrow":`next ${i[t][0]}`;case-1:return g?"yesterday":`last ${i[t][0]}`;case 0:return g?"today":`this ${i[t][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,h=i[t],m=n?l?h[1]:h[2]||h[1]:l?i[t][0]:t;return o?`${a} ${m} ago`:`in ${a} ${m}`}function an(t,e){let r="";for(const n of t)n.literal?r+=n.val:r+=e(n.val);return r}const Fo={D:Ar,DD:si,DDD:oi,DDDD:ai,t:ui,tt:ci,ttt:li,tttt:fi,T:hi,TT:di,TTT:mi,TTTT:gi,f:pi,ff:vi,fff:Si,ffff:Ei,F:yi,FF:wi,FFF:Ti,FFFF:Ci};class Se{static create(e,r={}){return new Se(e,r)}static parseFormat(e){let r=null,n="",i=!1;const s=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?(n.length>0&&s.push({literal:i,val:n}),r=null,n="",i=!i):i||a===r?n+=a:(n.length>0&&s.push({literal:!1,val:n}),n=a,r=a)}return n.length>0&&s.push({literal:i,val:n}),s}static macroTokenToFormatOpts(e){return Fo[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,k(k({},this.opts),r)).format()}formatDateTime(e,r={}){return this.loc.dtFormatter(e,k(k({},this.opts),r)).format()}formatDateTimeParts(e,r={}){return this.loc.dtFormatter(e,k(k({},this.opts),r)).formatToParts()}resolvedOptions(e,r={}){return this.loc.dtFormatter(e,k(k({},this.opts),r)).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return ue(e,r);const n=k({},this.opts);return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(w,D)=>this.loc.extract(e,w,D),o=w=>e.isOffsetFixed&&e.offset===0&&w.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,w.format):"",a=()=>n?Io(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(w,D)=>n?xo(e,w):s(D?{month:w}:{month:w,day:"numeric"},"month"),h=(w,D)=>n?Do(e,w):s(D?{weekday:w}:{weekday:w,month:"long",day:"numeric"},"weekday"),m=w=>{const D=Se.macroTokenToFormatOpts(w);return D?this.formatWithSystemDefault(e,D):w},g=w=>n?Uo(e,w):s({era:w},"era"),v=w=>{switch(w){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return h("short",!0);case"cccc":return h("long",!0);case"ccccc":return h("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return h("short",!1);case"EEEE":return h("long",!1);case"EEEEE":return h("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return g("short");case"GG":return g("long");case"GGGGG":return g("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return m(w)}};return an(Se.parseFormat(r),v)}formatDurationFromString(e,r){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},i=l=>h=>{const m=n(h);return m?this.num(l.get(m),h.length):h},s=Se.parseFormat(r),o=s.reduce((l,{literal:h,val:m})=>h?l:l.concat(m),[]),a=e.shiftTo(...o.map(n).filter(l=>l));return an(s,i(a))}}class be{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class kt{get type(){throw new $e}get name(){throw new $e}get isUniversal(){throw new $e}offsetName(e,r){throw new $e}formatOffset(e,r){throw new $e}offset(e){throw new $e}equals(e){throw new $e}get isValid(){throw new $e}}let fr=null;class Kr extends kt{static get instance(){return fr===null&&(fr=new Kr),fr}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return Ii(e,r,n)}formatOffset(e,r){return tr(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let zt={};function Po(t){return zt[t]||(zt[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),zt[t]}const Ro={year:0,month:1,day:2,hour:3,minute:4,second:5};function Mo(t,e){const r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r),[,i,s,o,a,l,h]=n;return[o,i,s,a,l,h]}function No(t,e){const r=t.formatToParts(e),n=[];for(let i=0;i<r.length;i++){const{type:s,value:o}=r[i],a=Ro[s];K(a)||(n[a]=parseInt(o,10))}return n}let qt={};class He extends kt{static create(e){return qt[e]||(qt[e]=new He(e)),qt[e]}static resetCache(){qt={},zt={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super();this.zoneName=e,this.valid=He.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return Ii(e,r,n,this.name)}formatOffset(e,r){return tr(this.offset(e),r)}offset(e){const r=new Date(e);if(isNaN(r))return NaN;const n=Po(this.name),[i,s,o,a,l,h]=n.formatToParts?No(n,r):Mo(n,r),g=Wr({year:i,month:s,day:o,hour:a===24?0:a,minute:l,second:h,millisecond:0});let v=+r;const w=v%1e3;return v-=w>=0?w:1e3+w,(g-v)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let hr=null;class ge extends kt{static get utcInstance(){return hr===null&&(hr=new ge(0)),hr}static instance(e){return e===0?ge.utcInstance:new ge(e)}static parseSpecifier(e){if(e){const r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new ge(ir(r[1],r[2]))}return null}constructor(e){super();this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${tr(this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return tr(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class ko extends kt{constructor(e){super();this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ze(t,e){if(K(t)||t===null)return e;if(t instanceof kt)return t;if(ho(t)){const r=t.toLowerCase();return r==="local"||r==="system"?e:r==="utc"||r==="gmt"?ge.utcInstance:ge.parseSpecifier(r)||He.create(t)}else return tt(t)?ge.instance(t):typeof t=="object"&&t.offset&&typeof t.offset=="number"?t:new ko(t)}let un=()=>Date.now(),cn="system",ln=null,fn=null,hn=null,dn;class ce{static get now(){return un}static set now(e){un=e}static set defaultZone(e){cn=e}static get defaultZone(){return ze(cn,Kr.instance)}static get defaultLocale(){return ln}static set defaultLocale(e){ln=e}static get defaultNumberingSystem(){return fn}static set defaultNumberingSystem(e){fn=e}static get defaultOutputCalendar(){return hn}static set defaultOutputCalendar(e){hn=e}static get throwOnInvalid(){return dn}static set throwOnInvalid(e){dn=e}static resetCaches(){re.resetCache(),He.resetCache()}}let mn={};function bo(t,e={}){const r=JSON.stringify([t,e]);let n=mn[r];return n||(n=new Intl.ListFormat(t,e),mn[r]=n),n}let Dr={};function xr(t,e={}){const r=JSON.stringify([t,e]);let n=Dr[r];return n||(n=new Intl.DateTimeFormat(t,e),Dr[r]=n),n}let Ur={};function _o(t,e={}){const r=JSON.stringify([t,e]);let n=Ur[r];return n||(n=new Intl.NumberFormat(t,e),Ur[r]=n),n}let Or={};function Vo(t,e={}){const o=e,{base:r}=o,n=Lt(o,["base"]),i=JSON.stringify([t,n]);let s=Or[i];return s||(s=new Intl.RelativeTimeFormat(t,e),Or[i]=s),s}let Ot=null;function Bo(){return Ot||(Ot=new Intl.DateTimeFormat().resolvedOptions().locale,Ot)}function Lo(t){const e=t.indexOf("-u-");if(e===-1)return[t];{let r;const n=t.substring(0,e);try{r=xr(t).resolvedOptions()}catch{r=xr(n).resolvedOptions()}const{numberingSystem:i,calendar:s}=r;return[n,i,s]}}function qo(t,e,r){return(r||e)&&(t+="-u",r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function Ho(t){const e=[];for(let r=1;r<=12;r++){const n=R.utc(2016,r,1);e.push(t(n))}return e}function Wo(t){const e=[];for(let r=1;r<=7;r++){const n=R.utc(2016,11,13+r);e.push(t(n))}return e}function Ht(t,e,r,n,i){const s=t.listingMode(r);return s==="error"?null:s==="en"?n(e):i(e)}function Ko(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class $o{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const a=n,{padTo:i,floor:s}=a,o=Lt(a,["padTo","floor"]);if(!r||Object.keys(o).length>0){const l=k({useGrouping:!1},n);n.padTo>0&&(l.minimumIntegerDigits=n.padTo),this.inf=_o(e,l)}}format(e){if(this.inf){const r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{const r=this.floor?Math.floor(e):Hr(e,3);return ue(r,this.padTo)}}}class jo{constructor(e,r,n){this.opts=n;let i;if(e.zone.isUniversal){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&He.create(a).valid?(i=a,this.dt=e):(i="UTC",n.timeZoneName?this.dt=e:this.dt=e.offset===0?e:R.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,i=e.zone.name);const s=k({},this.opts);i&&(s.timeZone=i),this.dtf=xr(r,s)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class zo{constructor(e,r,n){this.opts=k({style:"long"},n),!r&&Ai()&&(this.rtf=Vo(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):Oo(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}}class re{static fromOpts(e){return re.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,r,n,i=!1){const s=e||ce.defaultLocale,o=s||(i?"en-US":Bo()),a=r||ce.defaultNumberingSystem,l=n||ce.defaultOutputCalendar;return new re(o,a,l,s)}static resetCache(){Ot=null,Dr={},Ur={},Or={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n}={}){return re.create(e,r,n)}constructor(e,r,n,i){const[s,o,a]=Lo(e);this.locale=s,this.numberingSystem=r||o||null,this.outputCalendar=n||a||null,this.intl=qo(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Ko(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:re.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone(Ae(k({},e),{defaultToEN:!0}))}redefaultToSystem(e={}){return this.clone(Ae(k({},e),{defaultToEN:!1}))}months(e,r=!1,n=!0){return Ht(this,e,n,Ui,()=>{const i=r?{month:e,day:"numeric"}:{month:e},s=r?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=Ho(o=>this.extract(o,i,"month"))),this.monthsCache[s][e]})}weekdays(e,r=!1,n=!0){return Ht(this,e,n,Pi,()=>{const i=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=r?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=Wo(o=>this.extract(o,i,"weekday"))),this.weekdaysCache[s][e]})}meridiems(e=!0){return Ht(this,void 0,e,()=>Ri,()=>{if(!this.meridiemCache){const r={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[R.utc(2016,11,13,9),R.utc(2016,11,13,19)].map(n=>this.extract(n,r,"dayperiod"))}return this.meridiemCache})}eras(e,r=!0){return Ht(this,e,r,Mi,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[R.utc(-40,1,1),R.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[e]})}extract(e,r,n){const i=this.dtFormatter(e,r),s=i.formatToParts(),o=s.find(a=>a.type.toLowerCase()===n);return o?o.value:null}numberFormatter(e={}){return new $o(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new jo(e,this.intl,r)}relFormatter(e={}){return new zo(this.intl,this.isEnglish(),e)}listFormatter(e={}){return bo(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}function vt(...t){const e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function nt(...t){return e=>t.reduce(([r,n,i],s)=>{const[o,a,l]=s(e,i);return[k(k({},r),o),n||a,l]},[{},null,1]).slice(0,2)}function wt(t,...e){if(t==null)return[null,null];for(const[r,n]of e){const i=r.exec(t);if(i)return n(i)}return[null,null]}function Ni(...t){return(e,r)=>{const n={};let i;for(i=0;i<t.length;i++)n[t[i]]=je(e[r+i]);return[n,null,r+i]}}const ki=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,$r=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,bi=RegExp(`${$r.source}${ki.source}?`),jr=RegExp(`(?:T${bi.source})?`),Zo=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Yo=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Jo=/(\d{4})-?(\d{3})/,Go=Ni("weekYear","weekNumber","weekDay"),Xo=Ni("year","ordinal"),Qo=/(\d{4})-(\d\d)-(\d\d)/,_i=RegExp(`${$r.source} ?(?:${ki.source}|(${vo.source}))?`),ea=RegExp(`(?: ${_i.source})?`);function gt(t,e,r){const n=t[e];return K(n)?r:je(n)}function Vi(t,e){return[{year:gt(t,e),month:gt(t,e+1,1),day:gt(t,e+2,1)},null,e+3]}function it(t,e){return[{hours:gt(t,e,0),minutes:gt(t,e+1,0),seconds:gt(t,e+2,0),milliseconds:qr(t[e+3])},null,e+4]}function St(t,e){const r=!t[e]&&!t[e+1],n=ir(t[e+1],t[e+2]),i=r?null:ge.instance(n);return[{},i,e+3]}function Bi(t,e){const r=t[e]?He.create(t[e]):null;return[{},r,e+1]}const ta=RegExp(`^T?${$r.source}$`),ra=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function na(t){const[e,r,n,i,s,o,a,l,h]=t,m=e[0]==="-",g=l&&l[0]==="-",v=(w,D=!1)=>w!==void 0&&(D||w&&m)?-w:w;return[{years:v(Je(r)),months:v(Je(n)),weeks:v(Je(i)),days:v(Je(s)),hours:v(Je(o)),minutes:v(Je(a)),seconds:v(Je(l),l==="-0"),milliseconds:v(qr(h),g)}]}const ia={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function zr(t,e,r,n,i,s,o){const a={year:e.length===2?Ir(je(e)):je(e),month:xi.indexOf(r)+1,day:je(n),hour:je(i),minute:je(s)};return o&&(a.second=je(o)),t&&(a.weekday=t.length>3?Oi.indexOf(t)+1:Fi.indexOf(t)+1),a}const sa=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function oa(t){const[,e,r,n,i,s,o,a,l,h,m,g]=t,v=zr(e,i,n,r,s,o,a);let w;return l?w=ia[l]:h?w=0:w=ir(m,g),[v,new ge(w)]}function aa(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const ua=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ca=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,la=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function gn(t){const[,e,r,n,i,s,o,a]=t;return[zr(e,i,n,r,s,o,a),ge.utcInstance]}function fa(t){const[,e,r,n,i,s,o,a]=t;return[zr(e,a,r,n,i,s,o),ge.utcInstance]}const ha=vt(Zo,jr),da=vt(Yo,jr),ma=vt(Jo,jr),ga=vt(bi),pa=nt(Vi,it,St),ya=nt(Go,it,St),va=nt(Xo,it,St),wa=nt(it,St);function Sa(t){return wt(t,[ha,pa],[da,ya],[ma,va],[ga,wa])}function Ta(t){return wt(aa(t),[sa,oa])}function Ea(t){return wt(t,[ua,gn],[ca,gn],[la,fa])}function Ca(t){return wt(t,[ra,na])}const Aa=nt(it);function Ia(t){return wt(t,[ta,Aa])}const Da=vt(Qo,ea),xa=vt(_i),Ua=nt(Vi,it,St,Bi),Oa=nt(it,St,Bi);function Fa(t){return wt(t,[Da,Ua],[xa,Oa])}const Pa="Invalid Duration",Li={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Ra=k({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},Li),xe=146097/400,ct=146097/4800,Ma=k({years:{quarters:4,months:12,weeks:xe/7,days:xe,hours:xe*24,minutes:xe*24*60,seconds:xe*24*60*60,milliseconds:xe*24*60*60*1e3},quarters:{months:3,weeks:xe/28,days:xe/4,hours:xe*24/4,minutes:xe*24*60/4,seconds:xe*24*60*60/4,milliseconds:xe*24*60*60*1e3/4},months:{weeks:ct/7,days:ct,hours:ct*24,minutes:ct*24*60,seconds:ct*24*60*60,milliseconds:ct*24*60*60*1e3}},Li),Qe=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Na=Qe.slice(0).reverse();function Ge(t,e,r=!1){const n={values:r?e.values:k(k({},t.values),e.values||{}),loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy};return new $(n)}function ka(t){return t<0?Math.floor(t):Math.ceil(t)}function qi(t,e,r,n,i){const s=t[i][r],o=e[r]/s,a=Math.sign(o)===Math.sign(n[i]),l=!a&&n[i]!==0&&Math.abs(o)<=1?ka(o):Math.trunc(o);n[i]+=l,e[r]-=l*s}function ba(t,e){Na.reduce((r,n)=>K(e[n])?r:(r&&qi(t,e,r,e,n),n),null)}class ${constructor(e){const r=e.conversionAccuracy==="longterm"||!1;this.values=e.values,this.loc=e.loc||re.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r?Ma:Ra,this.isLuxonDuration=!0}static fromMillis(e,r){return $.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new Oe(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new $({values:er(e,$.normalizeUnit),loc:re.fromObject(r),conversionAccuracy:r.conversionAccuracy})}static fromDurationLike(e){if(tt(e))return $.fromMillis(e);if($.isDuration(e))return e;if(typeof e=="object")return $.fromObject(e);throw new Oe(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){const[n]=Ca(e);return n?$.fromObject(n,r):$.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){const[n]=Ia(e);return n?$.fromObject(n,r):$.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new Oe("need to specify a reason the Duration is invalid");const n=e instanceof be?e:new be(e,r);if(ce.throwOnInvalid)throw new co(n);return new $({invalid:n})}static normalizeUnit(e){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new ii(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){const n=Ae(k({},r),{floor:r.round!==!1&&r.floor!==!1});return this.isValid?Se.create(this.loc,n).formatDurationFromString(this,e):Pa}toHuman(e={}){const r=Qe.map(n=>{const i=this.values[n];return K(i)?null:this.loc.numberFormatter(Ae(k({style:"unit",unitDisplay:"long"},e),{unit:n.slice(0,-1)})).format(i)}).filter(n=>n);return this.loc.listFormatter(k({type:"conjunction",style:e.listStyle||"narrow"},e)).format(r)}toObject(){return this.isValid?k({},this.values):{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Hr(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const r=this.toMillis();if(r<0||r>=864e5)return null;e=k({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);const n=this.shiftTo("hours","minutes","seconds","milliseconds");let i=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||n.seconds!==0||n.milliseconds!==0)&&(i+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||n.milliseconds!==0)&&(i+=".SSS"));let s=n.toFormat(i);return e.includePrefix&&(s="T"+s),s}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const r=$.fromDurationLike(e),n={};for(const i of Qe)(yt(r.values,i)||yt(this.values,i))&&(n[i]=r.get(i)+this.get(i));return Ge(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const r=$.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=Di(e(this.values[n],n));return Ge(this,{values:r},!0)}get(e){return this[$.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const r=k(k({},this.values),er(e,$.normalizeUnit));return Ge(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n}={}){const i=this.loc.clone({locale:e,numberingSystem:r}),s={loc:i};return n&&(s.conversionAccuracy=n),Ge(this,s)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return ba(this.matrix,e),Ge(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>$.normalizeUnit(o));const r={},n={},i=this.toObject();let s;for(const o of Qe)if(e.indexOf(o)>=0){s=o;let a=0;for(const h in n)a+=this.matrix[h][o]*n[h],n[h]=0;tt(i[o])&&(a+=i[o]);const l=Math.trunc(a);r[o]=l,n[o]=(a*1e3-l*1e3)/1e3;for(const h in i)Qe.indexOf(h)>Qe.indexOf(o)&&qi(this.matrix,i,h,r,o)}else tt(i[o])&&(n[o]=i[o]);for(const o in n)n[o]!==0&&(r[s]+=o===s?n[o]:n[o]/this.matrix[s][o]);return Ge(this,{values:r},!0).normalize()}negate(){if(!this.isValid)return this;const e={};for(const r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return Ge(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of Qe)if(!r(this.values[n],e.values[n]))return!1;return!0}}const At="Invalid Interval";function _a(t,e){return!t||!t.isValid?ne.invalid("missing or invalid start"):!e||!e.isValid?ne.invalid("missing or invalid end"):e<t?ne.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class ne{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new Oe("need to specify a reason the Interval is invalid");const n=e instanceof be?e:new be(e,r);if(ce.throwOnInvalid)throw new uo(n);return new ne({invalid:n})}static fromDateTimes(e,r){const n=xt(e),i=xt(r),s=_a(n,i);return s==null?new ne({start:n,end:i}):s}static after(e,r){const n=$.fromDurationLike(r),i=xt(e);return ne.fromDateTimes(i,i.plus(n))}static before(e,r){const n=$.fromDurationLike(r),i=xt(e);return ne.fromDateTimes(i.minus(n),i)}static fromISO(e,r){const[n,i]=(e||"").split("/",2);if(n&&i){let s,o;try{s=R.fromISO(n,r),o=s.isValid}catch{o=!1}let a,l;try{a=R.fromISO(i,r),l=a.isValid}catch{l=!1}if(o&&l)return ne.fromDateTimes(s,a);if(o){const h=$.fromISO(i,r);if(h.isValid)return ne.after(s,h)}else if(l){const h=$.fromISO(n,r);if(h.isValid)return ne.before(a,h)}}return ne.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const r=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(r,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?ne.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];const r=e.map(xt).filter(o=>this.contains(o)).sort(),n=[];let{s:i}=this,s=0;for(;i<this.e;){const o=r[s]||this.e,a=+o>+this.e?this.e:o;n.push(ne.fromDateTimes(i,a)),i=a,s+=1}return n}splitBy(e){const r=$.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,s;const o=[];for(;n<this.e;){const a=this.start.plus(r.mapUnits(l=>l*i));s=+a>+this.e?this.e:a,o.push(ne.fromDateTimes(n,s)),n=s,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:ne.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;const r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return ne.fromDateTimes(r,n)}static merge(e){const[r,n]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0;const i=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,h)=>l.time-h.time);for(const l of a)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&i.push(ne.fromDateTimes(r,l.time)),r=null);return ne.merge(i)}difference(...e){return ne.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:At}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:At}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:At}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:At}toFormat(e,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:At}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):$.invalid(this.invalidReason)}mapEndpoints(e){return ne.fromDateTimes(e(this.s),e(this.e))}}class Wt{static hasDST(e=ce.defaultZone){const r=R.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return He.isValidZone(e)}static normalizeZone(e){return ze(e,ce.defaultZone)}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||re.create(r,n,s)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||re.create(r,n,s)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||re.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||re.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return re.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return re.create(r,null,"gregory").eras(e)}static features(){return{relative:Ai()}}}function pn(t,e){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor($.fromMillis(n).as("days"))}function Va(t,e,r){const n=[["years",(a,l)=>l.year-a.year],["quarters",(a,l)=>l.quarter-a.quarter],["months",(a,l)=>l.month-a.month+(l.year-a.year)*12],["weeks",(a,l)=>{const h=pn(a,l);return(h-h%7)/7}],["days",pn]],i={};let s,o;for(const[a,l]of n)if(r.indexOf(a)>=0){s=a;let h=l(t,e);o=t.plus({[a]:h}),o>e?(t=t.plus({[a]:h-1}),h-=1):t=o,i[a]=h}return[t,i,o,s]}function Ba(t,e,r,n){let[i,s,o,a]=Va(t,e,r);const l=e-i,h=r.filter(g=>["hours","minutes","seconds","milliseconds"].indexOf(g)>=0);h.length===0&&(o<e&&(o=i.plus({[a]:1})),o!==i&&(s[a]=(s[a]||0)+l/(o-i)));const m=$.fromObject(s,n);return h.length>0?$.fromMillis(l,n).shiftTo(...h).plus(m):m}const Zr={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},yn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},La=Zr.hanidec.replace(/[\[|\]]/g,"").split("");function qa(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);if(t[r].search(Zr.hanidec)!==-1)e+=La.indexOf(t[r]);else for(const i in yn){const[s,o]=yn[i];n>=s&&n<=o&&(e+=n-s)}}return parseInt(e,10)}else return e}function Ne({numberingSystem:t},e=""){return new RegExp(`${Zr[t||"latn"]}${e}`)}const Ha="missing Intl.DateTimeFormat.formatToParts support";function Y(t,e=r=>r){return{regex:t,deser:([r])=>e(qa(r))}}const Wa=String.fromCharCode(160),Hi=`( |${Wa})`,Wi=new RegExp(Hi,"g");function Ka(t){return t.replace(/\./g,"\\.?").replace(Wi,Hi)}function vn(t){return t.replace(/\./g,"").replace(Wi," ").toLowerCase()}function ke(t,e){return t===null?null:{regex:RegExp(t.map(Ka).join("|")),deser:([r])=>t.findIndex(n=>vn(r)===vn(n))+e}}function wn(t,e){return{regex:t,deser:([,r,n])=>ir(r,n),groups:e}}function dr(t){return{regex:t,deser:([e])=>e}}function $a(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function ja(t,e){const r=Ne(e),n=Ne(e,"{2}"),i=Ne(e,"{3}"),s=Ne(e,"{4}"),o=Ne(e,"{6}"),a=Ne(e,"{1,2}"),l=Ne(e,"{1,3}"),h=Ne(e,"{1,6}"),m=Ne(e,"{1,9}"),g=Ne(e,"{2,4}"),v=Ne(e,"{4,6}"),w=U=>({regex:RegExp($a(U.val)),deser:([M])=>M,literal:!0}),A=(U=>{if(t.literal)return w(U);switch(U.val){case"G":return ke(e.eras("short",!1),0);case"GG":return ke(e.eras("long",!1),0);case"y":return Y(h);case"yy":return Y(g,Ir);case"yyyy":return Y(s);case"yyyyy":return Y(v);case"yyyyyy":return Y(o);case"M":return Y(a);case"MM":return Y(n);case"MMM":return ke(e.months("short",!0,!1),1);case"MMMM":return ke(e.months("long",!0,!1),1);case"L":return Y(a);case"LL":return Y(n);case"LLL":return ke(e.months("short",!1,!1),1);case"LLLL":return ke(e.months("long",!1,!1),1);case"d":return Y(a);case"dd":return Y(n);case"o":return Y(l);case"ooo":return Y(i);case"HH":return Y(n);case"H":return Y(a);case"hh":return Y(n);case"h":return Y(a);case"mm":return Y(n);case"m":return Y(a);case"q":return Y(a);case"qq":return Y(n);case"s":return Y(a);case"ss":return Y(n);case"S":return Y(l);case"SSS":return Y(i);case"u":return dr(m);case"uu":return dr(a);case"uuu":return Y(r);case"a":return ke(e.meridiems(),0);case"kkkk":return Y(s);case"kk":return Y(g,Ir);case"W":return Y(a);case"WW":return Y(n);case"E":case"c":return Y(r);case"EEE":return ke(e.weekdays("short",!1,!1),1);case"EEEE":return ke(e.weekdays("long",!1,!1),1);case"ccc":return ke(e.weekdays("short",!0,!1),1);case"cccc":return ke(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return wn(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return wn(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return dr(/[a-z_+-/]{1,256}?/i);default:return w(U)}})(t)||{invalidReason:Ha};return A.token=t,A}const za={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function Za(t,e,r){const{type:n,value:i}=t;if(n==="literal")return{literal:!0,val:i};const s=r[n];let o=za[n];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function Ya(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function Ja(t,e,r){const n=t.match(e);if(n){const i={};let s=1;for(const o in r)if(yt(r,o)){const a=r[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(n.slice(s,s+l))),s+=l}return[n,i]}else return[n,{}]}function Ga(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return K(t.z)||(r=He.create(t.z)),K(t.Z)||(r||(r=new ge(t.Z)),n=t.Z),K(t.q)||(t.M=(t.q-1)*3+1),K(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),K(t.u)||(t.S=qr(t.u)),[Object.keys(t).reduce((s,o)=>{const a=e(o);return a&&(s[a]=t[o]),s},{}),r,n]}let mr=null;function Xa(){return mr||(mr=R.fromMillis(1555555555555)),mr}function Qa(t,e){if(t.literal)return t;const r=Se.macroTokenToFormatOpts(t.val);if(!r)return t;const s=Se.create(e,r).formatDateTimeParts(Xa()).map(o=>Za(o,e,r));return s.includes(void 0)?t:s}function eu(t,e){return Array.prototype.concat(...t.map(r=>Qa(r,e)))}function Ki(t,e,r){const n=eu(Se.parseFormat(r),t),i=n.map(o=>ja(o,t)),s=i.find(o=>o.invalidReason);if(s)return{input:e,tokens:n,invalidReason:s.invalidReason};{const[o,a]=Ya(i),l=RegExp(o,"i"),[h,m]=Ja(e,l,a),[g,v,w]=m?Ga(m):[null,null,void 0];if(yt(m,"a")&&yt(m,"H"))throw new Ut("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:l,rawMatches:h,matches:m,result:g,zone:v,specificOffset:w}}}function tu(t,e,r){const{result:n,zone:i,specificOffset:s,invalidReason:o}=Ki(t,e,r);return[n,i,s,o]}const $i=[0,31,59,90,120,151,181,212,243,273,304,334],ji=[0,31,60,91,121,152,182,213,244,274,305,335];function Pe(t,e){return new be("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function zi(t,e,r){const n=new Date(Date.UTC(t,e-1,r)).getUTCDay();return n===0?7:n}function Zi(t,e,r){return r+(Nt(t)?ji:$i)[e-1]}function Yi(t,e){const r=Nt(t)?ji:$i,n=r.findIndex(s=>s<e),i=e-r[n];return{month:n+1,day:i}}function Fr(t){const{year:e,month:r,day:n}=t,i=Zi(e,r,n),s=zi(e,r,n);let o=Math.floor((i-s+10)/7),a;return o<1?(a=e-1,o=Qt(a)):o>Qt(e)?(a=e+1,o=1):a=e,k({weekYear:a,weekNumber:o,weekday:s},sr(t))}function Sn(t){const{weekYear:e,weekNumber:r,weekday:n}=t,i=zi(e,1,4),s=Pt(e);let o=r*7+n-i-3,a;o<1?(a=e-1,o+=Pt(a)):o>s?(a=e+1,o-=Pt(e)):a=e;const{month:l,day:h}=Yi(a,o);return k({year:a,month:l,day:h},sr(t))}function gr(t){const{year:e,month:r,day:n}=t,i=Zi(e,r,n);return k({year:e,ordinal:i},sr(t))}function Tn(t){const{year:e,ordinal:r}=t,{month:n,day:i}=Yi(e,r);return k({year:e,month:n,day:i},sr(t))}function ru(t){const e=nr(t.weekYear),r=qe(t.weekNumber,1,Qt(t.weekYear)),n=qe(t.weekday,1,7);return e?r?n?!1:Pe("weekday",t.weekday):Pe("week",t.week):Pe("weekYear",t.weekYear)}function nu(t){const e=nr(t.year),r=qe(t.ordinal,1,Pt(t.year));return e?r?!1:Pe("ordinal",t.ordinal):Pe("year",t.year)}function Ji(t){const e=nr(t.year),r=qe(t.month,1,12),n=qe(t.day,1,Xt(t.year,t.month));return e?r?n?!1:Pe("day",t.day):Pe("month",t.month):Pe("year",t.year)}function Gi(t){const{hour:e,minute:r,second:n,millisecond:i}=t,s=qe(e,0,23)||e===24&&r===0&&n===0&&i===0,o=qe(r,0,59),a=qe(n,0,59),l=qe(i,0,999);return s?o?a?l?!1:Pe("millisecond",i):Pe("second",n):Pe("minute",r):Pe("hour",e)}const pr="Invalid DateTime",En=864e13;function Kt(t){return new be("unsupported zone",`the zone "${t.name}" is not supported`)}function yr(t){return t.weekData===null&&(t.weekData=Fr(t.c)),t.weekData}function It(t,e){const r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new R(Ae(k(k({},r),e),{old:r}))}function Xi(t,e,r){let n=t-e*60*1e3;const i=r.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;const s=r.offset(n);return i===s?[n,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Cn(t,e){t+=e*60*1e3;const r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Zt(t,e,r){return Xi(Wr(t),e,r)}function An(t,e){const r=t.o,n=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s=Ae(k({},t.c),{year:n,month:i,day:Math.min(t.c.day,Xt(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7}),o=$.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=Wr(s);let[l,h]=Xi(a,r,t.zone);return o!==0&&(l+=o,h=t.zone.offset(l)),{ts:l,o:h}}function Dt(t,e,r,n,i,s){const{setZone:o,zone:a}=r;if(t&&Object.keys(t).length!==0){const l=e||a,h=R.fromObject(t,Ae(k({},r),{zone:l,specificOffset:s}));return o?h:h.setZone(a)}else return R.invalid(new be("unparsable",`the input "${i}" can't be parsed as ${n}`))}function $t(t,e,r=!0){return t.isValid?Se.create(re.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function vr(t,e){const r=t.c.year>9999||t.c.year<0;let n="";return r&&t.c.year>=0&&(n+="+"),n+=ue(t.c.year,r?6:4),e?(n+="-",n+=ue(t.c.month),n+="-",n+=ue(t.c.day)):(n+=ue(t.c.month),n+=ue(t.c.day)),n}function In(t,e,r,n,i){let s=ue(t.c.hour);return e?(s+=":",s+=ue(t.c.minute),(t.c.second!==0||!r)&&(s+=":")):s+=ue(t.c.minute),(t.c.second!==0||!r)&&(s+=ue(t.c.second),(t.c.millisecond!==0||!n)&&(s+=".",s+=ue(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0?s+="Z":t.o<0?(s+="-",s+=ue(Math.trunc(-t.o/60)),s+=":",s+=ue(Math.trunc(-t.o%60))):(s+="+",s+=ue(Math.trunc(t.o/60)),s+=":",s+=ue(Math.trunc(t.o%60)))),s}const Qi={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},iu={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},su={ordinal:1,hour:0,minute:0,second:0,millisecond:0},es=["year","month","day","hour","minute","second","millisecond"],ou=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],au=["year","ordinal","hour","minute","second","millisecond"];function Dn(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new ii(t);return e}function xn(t,e){const r=ze(e.zone,ce.defaultZone),n=re.fromObject(e),i=ce.now();let s,o;if(K(t.year))s=i;else{for(const h of es)K(t[h])&&(t[h]=Qi[h]);const a=Ji(t)||Gi(t);if(a)return R.invalid(a);const l=r.offset(i);[s,o]=Zt(t,l,r)}return new R({ts:s,zone:r,loc:n,o})}function Un(t,e,r){const n=K(r.round)?!0:r.round,i=(o,a)=>(o=Hr(o,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(o,a)),s=o=>r.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(r.unit)return i(s(r.unit),r.unit);for(const o of r.units){const a=s(o);if(Math.abs(a)>=1)return i(a,o)}return i(t>e?-0:0,r.units[r.units.length-1])}function On(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}class R{constructor(e){const r=e.zone||ce.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new be("invalid input"):null)||(r.isValid?null:Kt(r));this.ts=K(e.ts)?ce.now():e.ts;let i=null,s=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[i,s]=[e.old.c,e.old.o];else{const a=r.offset(this.ts);i=Cn(this.ts,a),n=Number.isNaN(i.year)?new be("invalid input"):null,i=n?null:i,s=n?null:a}this._zone=r,this.loc=e.loc||re.create(),this.invalid=n,this.weekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new R({})}static local(){const[e,r]=On(arguments),[n,i,s,o,a,l,h]=r;return xn({year:n,month:i,day:s,hour:o,minute:a,second:l,millisecond:h},e)}static utc(){const[e,r]=On(arguments),[n,i,s,o,a,l,h]=r;return e.zone=ge.utcInstance,xn({year:n,month:i,day:s,hour:o,minute:a,second:l,millisecond:h},e)}static fromJSDate(e,r={}){const n=mo(e)?e.valueOf():NaN;if(Number.isNaN(n))return R.invalid("invalid input");const i=ze(r.zone,ce.defaultZone);return i.isValid?new R({ts:n,zone:i,loc:re.fromObject(r)}):R.invalid(Kt(i))}static fromMillis(e,r={}){if(tt(e))return e<-En||e>En?R.invalid("Timestamp out of range"):new R({ts:e,zone:ze(r.zone,ce.defaultZone),loc:re.fromObject(r)});throw new Oe(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(tt(e))return new R({ts:e*1e3,zone:ze(r.zone,ce.defaultZone),loc:re.fromObject(r)});throw new Oe("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};const n=ze(r.zone,ce.defaultZone);if(!n.isValid)return R.invalid(Kt(n));const i=ce.now(),s=K(r.specificOffset)?n.offset(i):r.specificOffset,o=er(e,Dn),a=!K(o.ordinal),l=!K(o.year),h=!K(o.month)||!K(o.day),m=l||h,g=o.weekYear||o.weekNumber,v=re.fromObject(r);if((m||a)&&g)throw new Ut("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&a)throw new Ut("Can't mix ordinal dates with month/day");const w=g||o.weekday&&!m;let D,A,U=Cn(i,s);w?(D=ou,A=iu,U=Fr(U)):a?(D=au,A=su,U=gr(U)):(D=es,A=Qi);let M=!1;for(const L of D){const Z=o[L];K(Z)?M?o[L]=A[L]:o[L]=U[L]:M=!0}const E=w?ru(o):a?nu(o):Ji(o),F=E||Gi(o);if(F)return R.invalid(F);const N=w?Sn(o):a?Tn(o):o,[_,j]=Zt(N,s,n),q=new R({ts:_,zone:n,o:j,loc:v});return o.weekday&&m&&e.weekday!==q.weekday?R.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${q.toISO()}`):q}static fromISO(e,r={}){const[n,i]=Sa(e);return Dt(n,i,r,"ISO 8601",e)}static fromRFC2822(e,r={}){const[n,i]=Ta(e);return Dt(n,i,r,"RFC 2822",e)}static fromHTTP(e,r={}){const[n,i]=Ea(e);return Dt(n,i,r,"HTTP",r)}static fromFormat(e,r,n={}){if(K(e)||K(r))throw new Oe("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=n,o=re.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[a,l,h,m]=tu(o,e,r);return m?R.invalid(m):Dt(a,l,n,`format ${r}`,e,h)}static fromString(e,r,n={}){return R.fromFormat(e,r,n)}static fromSQL(e,r={}){const[n,i]=Fa(e);return Dt(n,i,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new Oe("need to specify a reason the DateTime is invalid");const n=e instanceof be?e:new be(e,r);if(ce.throwOnInvalid)throw new ao(n);return new R({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?yr(this).weekYear:NaN}get weekNumber(){return this.isValid?yr(this).weekNumber:NaN}get weekday(){return this.isValid?yr(this).weekday:NaN}get ordinal(){return this.isValid?gr(this.c).ordinal:NaN}get monthShort(){return this.isValid?Wt.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Wt.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Wt.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Wt.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Nt(this.year)}get daysInMonth(){return Xt(this.year,this.month)}get daysInYear(){return this.isValid?Pt(this.year):NaN}get weeksInWeekYear(){return this.isValid?Qt(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:r,numberingSystem:n,calendar:i}=Se.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(e=0,r={}){return this.setZone(ge.instance(e),r)}toLocal(){return this.setZone(ce.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=ze(e,ce.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(r||n){const s=e.offset(this.ts),o=this.toObject();[i]=Zt(o,s,e)}return It(this,{ts:i,zone:e})}else return R.invalid(Kt(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return It(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const r=er(e,Dn),n=!K(r.weekYear)||!K(r.weekNumber)||!K(r.weekday),i=!K(r.ordinal),s=!K(r.year),o=!K(r.month)||!K(r.day),a=s||o,l=r.weekYear||r.weekNumber;if((a||i)&&l)throw new Ut("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&i)throw new Ut("Can't mix ordinal dates with month/day");let h;n?h=Sn(k(k({},Fr(this.c)),r)):K(r.ordinal)?(h=k(k({},this.toObject()),r),K(r.day)&&(h.day=Math.min(Xt(h.year,h.month),h.day))):h=Tn(k(k({},gr(this.c)),r));const[m,g]=Zt(h,this.o,this.zone);return It(this,{ts:m,o:g})}plus(e){if(!this.isValid)return this;const r=$.fromDurationLike(e);return It(this,An(this,r))}minus(e){if(!this.isValid)return this;const r=$.fromDurationLike(e).negate();return It(this,An(this,r))}startOf(e){if(!this.isValid)return this;const r={},n=$.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks"&&(r.weekday=1),n==="quarters"){const i=Math.ceil(this.month/3);r.month=(i-1)*3+1}return this.set(r)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,r={}){return this.isValid?Se.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):pr}toLocaleString(e=Ar,r={}){return this.isValid?Se.create(this.loc.clone(r),e).formatDateTime(this):pr}toLocaleParts(e={}){return this.isValid?Se.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0}={}){if(!this.isValid)return null;const s=e==="extended";let o=vr(this,s);return o+="T",o+=In(this,s,r,n,i),o}toISODate({format:e="extended"}={}){return this.isValid?vr(this,e==="extended"):null}toISOWeekDate(){return $t(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,format:s="extended"}={}){return this.isValid?(i?"T":"")+In(this,s==="extended",r,e,n):null}toRFC2822(){return $t(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return $t(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?vr(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||e)&&(n&&(i+=" "),r?i+="z":e&&(i+="ZZ")),$t(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():pr}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const r=k({},this.c);return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return $.invalid("created by diffing an invalid DateTime");const i=k({locale:this.locale,numberingSystem:this.numberingSystem},n),s=go(r).map($.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,h=Ba(a,l,s,i);return o?h.negate():h}diffNow(e="milliseconds",r={}){return this.diff(R.now(),e,r)}until(e){return this.isValid?ne.fromDateTimes(this,e):this}hasSame(e,r){if(!this.isValid)return!1;const n=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(r)<=n&&n<=i.endOf(r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const r=e.base||R.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),Un(r,this.plus(n),Ae(k({},e),{numeric:"always",units:i,unit:s}))}toRelativeCalendar(e={}){return this.isValid?Un(e.base||R.fromObject({},{zone:this.zone}),this,Ae(k({},e),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...e){if(!e.every(R.isDateTime))throw new Oe("min requires all arguments be DateTimes");return on(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(R.isDateTime))throw new Oe("max requires all arguments be DateTimes");return on(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){const{locale:i=null,numberingSystem:s=null}=n,o=re.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return Ki(o,e,r)}static fromStringExplain(e,r,n={}){return R.fromFormatExplain(e,r,n)}static get DATE_SHORT(){return Ar}static get DATE_MED(){return si}static get DATE_MED_WITH_WEEKDAY(){return lo}static get DATE_FULL(){return oi}static get DATE_HUGE(){return ai}static get TIME_SIMPLE(){return ui}static get TIME_WITH_SECONDS(){return ci}static get TIME_WITH_SHORT_OFFSET(){return li}static get TIME_WITH_LONG_OFFSET(){return fi}static get TIME_24_SIMPLE(){return hi}static get TIME_24_WITH_SECONDS(){return di}static get TIME_24_WITH_SHORT_OFFSET(){return mi}static get TIME_24_WITH_LONG_OFFSET(){return gi}static get DATETIME_SHORT(){return pi}static get DATETIME_SHORT_WITH_SECONDS(){return yi}static get DATETIME_MED(){return vi}static get DATETIME_MED_WITH_SECONDS(){return wi}static get DATETIME_MED_WITH_WEEKDAY(){return fo}static get DATETIME_FULL(){return Si}static get DATETIME_FULL_WITH_SECONDS(){return Ti}static get DATETIME_HUGE(){return Ei}static get DATETIME_HUGE_WITH_SECONDS(){return Ci}}function xt(t){if(R.isDateTime(t))return t;if(t&&t.valueOf&&tt(t.valueOf()))return R.fromJSDate(t);if(t&&typeof t=="object")return R.fromObject(t);throw new Oe(`Unknown datetime argument: ${t}, of type ${typeof t}`)}/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var uu=function(){function t(r){var n=r||{},i=n.ValidationData,s=n.Username,o=n.Password,a=n.AuthParameters,l=n.ClientMetadata;this.validationData=i||{},this.authParameters=a||{},this.clientMetadata=l||{},this.username=s,this.password=o}var e=t.prototype;return e.getUsername=function(){return this.username},e.getPassword=function(){return this.password},e.getValidationData=function(){return this.validationData},e.getAuthParameters=function(){return this.authParameters},e.getClientMetadata=function(){return this.clientMetadata},t}(),X={},or={};or.byteLength=fu;or.toByteArray=du;or.fromByteArray=pu;var Be=[],Ue=[],cu=typeof Uint8Array!="undefined"?Uint8Array:Array,wr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var lt=0,lu=wr.length;lt<lu;++lt)Be[lt]=wr[lt],Ue[wr.charCodeAt(lt)]=lt;Ue["-".charCodeAt(0)]=62;Ue["_".charCodeAt(0)]=63;function ts(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function fu(t){var e=ts(t),r=e[0],n=e[1];return(r+n)*3/4-n}function hu(t,e,r){return(e+r)*3/4-r}function du(t){var e,r=ts(t),n=r[0],i=r[1],s=new cu(hu(t,n,i)),o=0,a=i>0?n-4:n,l;for(l=0;l<a;l+=4)e=Ue[t.charCodeAt(l)]<<18|Ue[t.charCodeAt(l+1)]<<12|Ue[t.charCodeAt(l+2)]<<6|Ue[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Ue[t.charCodeAt(l)]<<2|Ue[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=Ue[t.charCodeAt(l)]<<10|Ue[t.charCodeAt(l+1)]<<4|Ue[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function mu(t){return Be[t>>18&63]+Be[t>>12&63]+Be[t>>6&63]+Be[t&63]}function gu(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(mu(n));return i.join("")}function pu(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(gu(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(Be[e>>2]+Be[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Be[e>>10]+Be[e>>4&63]+Be[e<<2&63]+"=")),i.join("")}var Yr={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Yr.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,h=l>>1,m=-7,g=r?i-1:0,v=r?-1:1,w=t[e+g];for(g+=v,s=w&(1<<-m)-1,w>>=-m,m+=a;m>0;s=s*256+t[e+g],g+=v,m-=8);for(o=s&(1<<-m)-1,s>>=-m,m+=n;m>0;o=o*256+t[e+g],g+=v,m-=8);if(s===0)s=1-h;else{if(s===l)return o?NaN:(w?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-h}return(w?-1:1)*o*Math.pow(2,s-n)};Yr.write=function(t,e,r,n,i,s){var o,a,l,h=s*8-i-1,m=(1<<h)-1,g=m>>1,v=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:s-1,D=n?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=m):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+g>=1?e+=v/l:e+=v*Math.pow(2,1-g),e*l>=2&&(o++,l/=2),o+g>=m?(a=0,o=m):o+g>=1?(a=(e*l-1)*Math.pow(2,i),o=o+g):(a=e*Math.pow(2,g-1)*Math.pow(2,i),o=0));i>=8;t[r+w]=a&255,w+=D,a/=256,i-=8);for(o=o<<i|a,h+=i;h>0;t[r+w]=o&255,w+=D,o/=256,h-=8);t[r+w-D]|=A*128};var yu={}.toString,vu=Array.isArray||function(t){return yu.call(t)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */(function(t){var e=or,r=Yr,n=vu;t.Buffer=a,t.SlowBuffer=M,t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=de.TYPED_ARRAY_SUPPORT!==void 0?de.TYPED_ARRAY_SUPPORT:i(),t.kMaxLength=s();function i(){try{var f=new Uint8Array(1);return f.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},f.foo()===42&&typeof f.subarray=="function"&&f.subarray(1,1).byteLength===0}catch{return!1}}function s(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(f,u){if(s()<u)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(f=new Uint8Array(u),f.__proto__=a.prototype):(f===null&&(f=new a(u)),f.length=u),f}function a(f,u,c){if(!a.TYPED_ARRAY_SUPPORT&&!(this instanceof a))return new a(f,u,c);if(typeof f=="number"){if(typeof u=="string")throw new Error("If encoding is specified then the first argument must be a string");return g(this,f)}return l(this,f,u,c)}a.poolSize=8192,a._augment=function(f){return f.__proto__=a.prototype,f};function l(f,u,c,d){if(typeof u=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&u instanceof ArrayBuffer?D(f,u,c,d):typeof u=="string"?v(f,u,c):A(f,u)}a.from=function(f,u,c){return l(null,f,u,c)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0}));function h(f){if(typeof f!="number")throw new TypeError('"size" argument must be a number');if(f<0)throw new RangeError('"size" argument must not be negative')}function m(f,u,c,d){return h(u),u<=0?o(f,u):c!==void 0?typeof d=="string"?o(f,u).fill(c,d):o(f,u).fill(c):o(f,u)}a.alloc=function(f,u,c){return m(null,f,u,c)};function g(f,u){if(h(u),f=o(f,u<0?0:U(u)|0),!a.TYPED_ARRAY_SUPPORT)for(var c=0;c<u;++c)f[c]=0;return f}a.allocUnsafe=function(f){return g(null,f)},a.allocUnsafeSlow=function(f){return g(null,f)};function v(f,u,c){if((typeof c!="string"||c==="")&&(c="utf8"),!a.isEncoding(c))throw new TypeError('"encoding" must be a valid string encoding');var d=E(u,c)|0;f=o(f,d);var p=f.write(u,c);return p!==d&&(f=f.slice(0,p)),f}function w(f,u){var c=u.length<0?0:U(u.length)|0;f=o(f,c);for(var d=0;d<c;d+=1)f[d]=u[d]&255;return f}function D(f,u,c,d){if(u.byteLength,c<0||u.byteLength<c)throw new RangeError("'offset' is out of bounds");if(u.byteLength<c+(d||0))throw new RangeError("'length' is out of bounds");return c===void 0&&d===void 0?u=new Uint8Array(u):d===void 0?u=new Uint8Array(u,c):u=new Uint8Array(u,c,d),a.TYPED_ARRAY_SUPPORT?(f=u,f.__proto__=a.prototype):f=w(f,u),f}function A(f,u){if(a.isBuffer(u)){var c=U(u.length)|0;return f=o(f,c),f.length===0||u.copy(f,0,0,c),f}if(u){if(typeof ArrayBuffer!="undefined"&&u.buffer instanceof ArrayBuffer||"length"in u)return typeof u.length!="number"||te(u.length)?o(f,0):w(f,u);if(u.type==="Buffer"&&n(u.data))return w(f,u.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function U(f){if(f>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return f|0}function M(f){return+f!=f&&(f=0),a.alloc(+f)}a.isBuffer=function(u){return!!(u!=null&&u._isBuffer)},a.compare=function(u,c){if(!a.isBuffer(u)||!a.isBuffer(c))throw new TypeError("Arguments must be Buffers");if(u===c)return 0;for(var d=u.length,p=c.length,C=0,I=Math.min(d,p);C<I;++C)if(u[C]!==c[C]){d=u[C],p=c[C];break}return d<p?-1:p<d?1:0},a.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(u,c){if(!n(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return a.alloc(0);var d;if(c===void 0)for(c=0,d=0;d<u.length;++d)c+=u[d].length;var p=a.allocUnsafe(c),C=0;for(d=0;d<u.length;++d){var I=u[d];if(!a.isBuffer(I))throw new TypeError('"list" argument must be an Array of Buffers');I.copy(p,C),C+=I.length}return p};function E(f,u){if(a.isBuffer(f))return f.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(f)||f instanceof ArrayBuffer))return f.byteLength;typeof f!="string"&&(f=""+f);var c=f.length;if(c===0)return 0;for(var d=!1;;)switch(u){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":case void 0:return oe(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c*2;case"hex":return c>>>1;case"base64":return Ve(f).length;default:if(d)return oe(f).length;u=(""+u).toLowerCase(),d=!0}}a.byteLength=E;function F(f,u,c){var d=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((c===void 0||c>this.length)&&(c=this.length),c<=0)||(c>>>=0,u>>>=0,c<=u))return"";for(f||(f="utf8");;)switch(f){case"hex":return bt(this,u,c);case"utf8":case"utf-8":return De(this,u,c);case"ascii":return Le(this,u,c);case"latin1":case"binary":return at(this,u,c);case"base64":return We(this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _t(this,u,c);default:if(d)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),d=!0}}a.prototype._isBuffer=!0;function N(f,u,c){var d=f[u];f[u]=f[c],f[c]=d}a.prototype.swap16=function(){var u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var c=0;c<u;c+=2)N(this,c,c+1);return this},a.prototype.swap32=function(){var u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var c=0;c<u;c+=4)N(this,c,c+3),N(this,c+1,c+2);return this},a.prototype.swap64=function(){var u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var c=0;c<u;c+=8)N(this,c,c+7),N(this,c+1,c+6),N(this,c+2,c+5),N(this,c+3,c+4);return this},a.prototype.toString=function(){var u=this.length|0;return u===0?"":arguments.length===0?De(this,0,u):F.apply(this,arguments)},a.prototype.equals=function(u){if(!a.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:a.compare(this,u)===0},a.prototype.inspect=function(){var u="",c=t.INSPECT_MAX_BYTES;return this.length>0&&(u=this.toString("hex",0,c).match(/.{2}/g).join(" "),this.length>c&&(u+=" ... ")),"<Buffer "+u+">"},a.prototype.compare=function(u,c,d,p,C){if(!a.isBuffer(u))throw new TypeError("Argument must be a Buffer");if(c===void 0&&(c=0),d===void 0&&(d=u?u.length:0),p===void 0&&(p=0),C===void 0&&(C=this.length),c<0||d>u.length||p<0||C>this.length)throw new RangeError("out of range index");if(p>=C&&c>=d)return 0;if(p>=C)return-1;if(c>=d)return 1;if(c>>>=0,d>>>=0,p>>>=0,C>>>=0,this===u)return 0;for(var I=C-p,W=d-c,z=Math.min(I,W),J=this.slice(p,C),ae=u.slice(c,d),ee=0;ee<z;++ee)if(J[ee]!==ae[ee]){I=J[ee],W=ae[ee];break}return I<W?-1:W<I?1:0};function _(f,u,c,d,p){if(f.length===0)return-1;if(typeof c=="string"?(d=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,isNaN(c)&&(c=p?0:f.length-1),c<0&&(c=f.length+c),c>=f.length){if(p)return-1;c=f.length-1}else if(c<0)if(p)c=0;else return-1;if(typeof u=="string"&&(u=a.from(u,d)),a.isBuffer(u))return u.length===0?-1:j(f,u,c,d,p);if(typeof u=="number")return u=u&255,a.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?p?Uint8Array.prototype.indexOf.call(f,u,c):Uint8Array.prototype.lastIndexOf.call(f,u,c):j(f,[u],c,d,p);throw new TypeError("val must be string, number or Buffer")}function j(f,u,c,d,p){var C=1,I=f.length,W=u.length;if(d!==void 0&&(d=String(d).toLowerCase(),d==="ucs2"||d==="ucs-2"||d==="utf16le"||d==="utf-16le")){if(f.length<2||u.length<2)return-1;C=2,I/=2,W/=2,c/=2}function z(ut,Vt){return C===1?ut[Vt]:ut.readUInt16BE(Vt*C)}var J;if(p){var ae=-1;for(J=c;J<I;J++)if(z(f,J)===z(u,ae===-1?0:J-ae)){if(ae===-1&&(ae=J),J-ae+1===W)return ae*C}else ae!==-1&&(J-=J-ae),ae=-1}else for(c+W>I&&(c=I-W),J=c;J>=0;J--){for(var ee=!0,Ke=0;Ke<W;Ke++)if(z(f,J+Ke)!==z(u,Ke)){ee=!1;break}if(ee)return J}return-1}a.prototype.includes=function(u,c,d){return this.indexOf(u,c,d)!==-1},a.prototype.indexOf=function(u,c,d){return _(this,u,c,d,!0)},a.prototype.lastIndexOf=function(u,c,d){return _(this,u,c,d,!1)};function q(f,u,c,d){c=Number(c)||0;var p=f.length-c;d?(d=Number(d),d>p&&(d=p)):d=p;var C=u.length;if(C%2!==0)throw new TypeError("Invalid hex string");d>C/2&&(d=C/2);for(var I=0;I<d;++I){var W=parseInt(u.substr(I*2,2),16);if(isNaN(W))return I;f[c+I]=W}return I}function L(f,u,c,d){return ve(oe(u,f.length-c),f,c,d)}function Z(f,u,c,d){return ve(Ce(u),f,c,d)}function se(f,u,c,d){return Z(f,u,c,d)}function fe(f,u,c,d){return ve(Ve(u),f,c,d)}function he(f,u,c,d){return ve(G(u,f.length-c),f,c,d)}a.prototype.write=function(u,c,d,p){if(c===void 0)p="utf8",d=this.length,c=0;else if(d===void 0&&typeof c=="string")p=c,d=this.length,c=0;else if(isFinite(c))c=c|0,isFinite(d)?(d=d|0,p===void 0&&(p="utf8")):(p=d,d=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var C=this.length-c;if((d===void 0||d>C)&&(d=C),u.length>0&&(d<0||c<0)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");p||(p="utf8");for(var I=!1;;)switch(p){case"hex":return q(this,u,c,d);case"utf8":case"utf-8":return L(this,u,c,d);case"ascii":return Z(this,u,c,d);case"latin1":case"binary":return se(this,u,c,d);case"base64":return fe(this,u,c,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,u,c,d);default:if(I)throw new TypeError("Unknown encoding: "+p);p=(""+p).toLowerCase(),I=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function We(f,u,c){return u===0&&c===f.length?e.fromByteArray(f):e.fromByteArray(f.slice(u,c))}function De(f,u,c){c=Math.min(f.length,c);for(var d=[],p=u;p<c;){var C=f[p],I=null,W=C>239?4:C>223?3:C>191?2:1;if(p+W<=c){var z,J,ae,ee;switch(W){case 1:C<128&&(I=C);break;case 2:z=f[p+1],(z&192)===128&&(ee=(C&31)<<6|z&63,ee>127&&(I=ee));break;case 3:z=f[p+1],J=f[p+2],(z&192)===128&&(J&192)===128&&(ee=(C&15)<<12|(z&63)<<6|J&63,ee>2047&&(ee<55296||ee>57343)&&(I=ee));break;case 4:z=f[p+1],J=f[p+2],ae=f[p+3],(z&192)===128&&(J&192)===128&&(ae&192)===128&&(ee=(C&15)<<18|(z&63)<<12|(J&63)<<6|ae&63,ee>65535&&ee<1114112&&(I=ee))}}I===null?(I=65533,W=1):I>65535&&(I-=65536,d.push(I>>>10&1023|55296),I=56320|I&1023),d.push(I),p+=W}return ot(d)}var Te=4096;function ot(f){var u=f.length;if(u<=Te)return String.fromCharCode.apply(String,f);for(var c="",d=0;d<u;)c+=String.fromCharCode.apply(String,f.slice(d,d+=Te));return c}function Le(f,u,c){var d="";c=Math.min(f.length,c);for(var p=u;p<c;++p)d+=String.fromCharCode(f[p]&127);return d}function at(f,u,c){var d="";c=Math.min(f.length,c);for(var p=u;p<c;++p)d+=String.fromCharCode(f[p]);return d}function bt(f,u,c){var d=f.length;(!u||u<0)&&(u=0),(!c||c<0||c>d)&&(c=d);for(var p="",C=u;C<c;++C)p+=me(f[C]);return p}function _t(f,u,c){for(var d=f.slice(u,c),p="",C=0;C<d.length;C+=2)p+=String.fromCharCode(d[C]+d[C+1]*256);return p}a.prototype.slice=function(u,c){var d=this.length;u=~~u,c=c===void 0?d:~~c,u<0?(u+=d,u<0&&(u=0)):u>d&&(u=d),c<0?(c+=d,c<0&&(c=0)):c>d&&(c=d),c<u&&(c=u);var p;if(a.TYPED_ARRAY_SUPPORT)p=this.subarray(u,c),p.__proto__=a.prototype;else{var C=c-u;p=new a(C,void 0);for(var I=0;I<C;++I)p[I]=this[I+u]}return p};function y(f,u,c){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+u>c)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUIntLE=function(u,c,d){u=u|0,c=c|0,d||y(u,c,this.length);for(var p=this[u],C=1,I=0;++I<c&&(C*=256);)p+=this[u+I]*C;return p},a.prototype.readUIntBE=function(u,c,d){u=u|0,c=c|0,d||y(u,c,this.length);for(var p=this[u+--c],C=1;c>0&&(C*=256);)p+=this[u+--c]*C;return p},a.prototype.readUInt8=function(u,c){return c||y(u,1,this.length),this[u]},a.prototype.readUInt16LE=function(u,c){return c||y(u,2,this.length),this[u]|this[u+1]<<8},a.prototype.readUInt16BE=function(u,c){return c||y(u,2,this.length),this[u]<<8|this[u+1]},a.prototype.readUInt32LE=function(u,c){return c||y(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},a.prototype.readUInt32BE=function(u,c){return c||y(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},a.prototype.readIntLE=function(u,c,d){u=u|0,c=c|0,d||y(u,c,this.length);for(var p=this[u],C=1,I=0;++I<c&&(C*=256);)p+=this[u+I]*C;return C*=128,p>=C&&(p-=Math.pow(2,8*c)),p},a.prototype.readIntBE=function(u,c,d){u=u|0,c=c|0,d||y(u,c,this.length);for(var p=c,C=1,I=this[u+--p];p>0&&(C*=256);)I+=this[u+--p]*C;return C*=128,I>=C&&(I-=Math.pow(2,8*c)),I},a.prototype.readInt8=function(u,c){return c||y(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},a.prototype.readInt16LE=function(u,c){c||y(u,2,this.length);var d=this[u]|this[u+1]<<8;return d&32768?d|4294901760:d},a.prototype.readInt16BE=function(u,c){c||y(u,2,this.length);var d=this[u+1]|this[u]<<8;return d&32768?d|4294901760:d},a.prototype.readInt32LE=function(u,c){return c||y(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},a.prototype.readInt32BE=function(u,c){return c||y(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},a.prototype.readFloatLE=function(u,c){return c||y(u,4,this.length),r.read(this,u,!0,23,4)},a.prototype.readFloatBE=function(u,c){return c||y(u,4,this.length),r.read(this,u,!1,23,4)},a.prototype.readDoubleLE=function(u,c){return c||y(u,8,this.length),r.read(this,u,!0,52,8)},a.prototype.readDoubleBE=function(u,c){return c||y(u,8,this.length),r.read(this,u,!1,52,8)};function T(f,u,c,d,p,C){if(!a.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>p||u<C)throw new RangeError('"value" argument is out of bounds');if(c+d>f.length)throw new RangeError("Index out of range")}a.prototype.writeUIntLE=function(u,c,d,p){if(u=+u,c=c|0,d=d|0,!p){var C=Math.pow(2,8*d)-1;T(this,u,c,d,C,0)}var I=1,W=0;for(this[c]=u&255;++W<d&&(I*=256);)this[c+W]=u/I&255;return c+d},a.prototype.writeUIntBE=function(u,c,d,p){if(u=+u,c=c|0,d=d|0,!p){var C=Math.pow(2,8*d)-1;T(this,u,c,d,C,0)}var I=d-1,W=1;for(this[c+I]=u&255;--I>=0&&(W*=256);)this[c+I]=u/W&255;return c+d},a.prototype.writeUInt8=function(u,c,d){return u=+u,c=c|0,d||T(this,u,c,1,255,0),a.TYPED_ARRAY_SUPPORT||(u=Math.floor(u)),this[c]=u&255,c+1};function S(f,u,c,d){u<0&&(u=65535+u+1);for(var p=0,C=Math.min(f.length-c,2);p<C;++p)f[c+p]=(u&255<<8*(d?p:1-p))>>>(d?p:1-p)*8}a.prototype.writeUInt16LE=function(u,c,d){return u=+u,c=c|0,d||T(this,u,c,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[c]=u&255,this[c+1]=u>>>8):S(this,u,c,!0),c+2},a.prototype.writeUInt16BE=function(u,c,d){return u=+u,c=c|0,d||T(this,u,c,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[c]=u>>>8,this[c+1]=u&255):S(this,u,c,!1),c+2};function x(f,u,c,d){u<0&&(u=4294967295+u+1);for(var p=0,C=Math.min(f.length-c,4);p<C;++p)f[c+p]=u>>>(d?p:3-p)*8&255}a.prototype.writeUInt32LE=function(u,c,d){return u=+u,c=c|0,d||T(this,u,c,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[c+3]=u>>>24,this[c+2]=u>>>16,this[c+1]=u>>>8,this[c]=u&255):x(this,u,c,!0),c+4},a.prototype.writeUInt32BE=function(u,c,d){return u=+u,c=c|0,d||T(this,u,c,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[c]=u>>>24,this[c+1]=u>>>16,this[c+2]=u>>>8,this[c+3]=u&255):x(this,u,c,!1),c+4},a.prototype.writeIntLE=function(u,c,d,p){if(u=+u,c=c|0,!p){var C=Math.pow(2,8*d-1);T(this,u,c,d,C-1,-C)}var I=0,W=1,z=0;for(this[c]=u&255;++I<d&&(W*=256);)u<0&&z===0&&this[c+I-1]!==0&&(z=1),this[c+I]=(u/W>>0)-z&255;return c+d},a.prototype.writeIntBE=function(u,c,d,p){if(u=+u,c=c|0,!p){var C=Math.pow(2,8*d-1);T(this,u,c,d,C-1,-C)}var I=d-1,W=1,z=0;for(this[c+I]=u&255;--I>=0&&(W*=256);)u<0&&z===0&&this[c+I+1]!==0&&(z=1),this[c+I]=(u/W>>0)-z&255;return c+d},a.prototype.writeInt8=function(u,c,d){return u=+u,c=c|0,d||T(this,u,c,1,127,-128),a.TYPED_ARRAY_SUPPORT||(u=Math.floor(u)),u<0&&(u=255+u+1),this[c]=u&255,c+1},a.prototype.writeInt16LE=function(u,c,d){return u=+u,c=c|0,d||T(this,u,c,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[c]=u&255,this[c+1]=u>>>8):S(this,u,c,!0),c+2},a.prototype.writeInt16BE=function(u,c,d){return u=+u,c=c|0,d||T(this,u,c,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[c]=u>>>8,this[c+1]=u&255):S(this,u,c,!1),c+2},a.prototype.writeInt32LE=function(u,c,d){return u=+u,c=c|0,d||T(this,u,c,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[c]=u&255,this[c+1]=u>>>8,this[c+2]=u>>>16,this[c+3]=u>>>24):x(this,u,c,!0),c+4},a.prototype.writeInt32BE=function(u,c,d){return u=+u,c=c|0,d||T(this,u,c,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),a.TYPED_ARRAY_SUPPORT?(this[c]=u>>>24,this[c+1]=u>>>16,this[c+2]=u>>>8,this[c+3]=u&255):x(this,u,c,!1),c+4};function b(f,u,c,d,p,C){if(c+d>f.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function V(f,u,c,d,p){return p||b(f,u,c,4),r.write(f,u,c,d,23,4),c+4}a.prototype.writeFloatLE=function(u,c,d){return V(this,u,c,!0,d)},a.prototype.writeFloatBE=function(u,c,d){return V(this,u,c,!1,d)};function B(f,u,c,d,p){return p||b(f,u,c,8),r.write(f,u,c,d,52,8),c+8}a.prototype.writeDoubleLE=function(u,c,d){return B(this,u,c,!0,d)},a.prototype.writeDoubleBE=function(u,c,d){return B(this,u,c,!1,d)},a.prototype.copy=function(u,c,d,p){if(d||(d=0),!p&&p!==0&&(p=this.length),c>=u.length&&(c=u.length),c||(c=0),p>0&&p<d&&(p=d),p===d||u.length===0||this.length===0)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(d<0||d>=this.length)throw new RangeError("sourceStart out of bounds");if(p<0)throw new RangeError("sourceEnd out of bounds");p>this.length&&(p=this.length),u.length-c<p-d&&(p=u.length-c+d);var C=p-d,I;if(this===u&&d<c&&c<p)for(I=C-1;I>=0;--I)u[I+c]=this[I+d];else if(C<1e3||!a.TYPED_ARRAY_SUPPORT)for(I=0;I<C;++I)u[I+c]=this[I+d];else Uint8Array.prototype.set.call(u,this.subarray(d,d+C),c);return C},a.prototype.fill=function(u,c,d,p){if(typeof u=="string"){if(typeof c=="string"?(p=c,c=0,d=this.length):typeof d=="string"&&(p=d,d=this.length),u.length===1){var C=u.charCodeAt(0);C<256&&(u=C)}if(p!==void 0&&typeof p!="string")throw new TypeError("encoding must be a string");if(typeof p=="string"&&!a.isEncoding(p))throw new TypeError("Unknown encoding: "+p)}else typeof u=="number"&&(u=u&255);if(c<0||this.length<c||this.length<d)throw new RangeError("Out of range index");if(d<=c)return this;c=c>>>0,d=d===void 0?this.length:d>>>0,u||(u=0);var I;if(typeof u=="number")for(I=c;I<d;++I)this[I]=u;else{var W=a.isBuffer(u)?u:oe(new a(u,p).toString()),z=W.length;for(I=0;I<d-c;++I)this[I+c]=W[I%z]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function ye(f){if(f=Ee(f).replace(H,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function Ee(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function me(f){return f<16?"0"+f.toString(16):f.toString(16)}function oe(f,u){u=u||1/0;for(var c,d=f.length,p=null,C=[],I=0;I<d;++I){if(c=f.charCodeAt(I),c>55295&&c<57344){if(!p){if(c>56319){(u-=3)>-1&&C.push(239,191,189);continue}else if(I+1===d){(u-=3)>-1&&C.push(239,191,189);continue}p=c;continue}if(c<56320){(u-=3)>-1&&C.push(239,191,189),p=c;continue}c=(p-55296<<10|c-56320)+65536}else p&&(u-=3)>-1&&C.push(239,191,189);if(p=null,c<128){if((u-=1)<0)break;C.push(c)}else if(c<2048){if((u-=2)<0)break;C.push(c>>6|192,c&63|128)}else if(c<65536){if((u-=3)<0)break;C.push(c>>12|224,c>>6&63|128,c&63|128)}else if(c<1114112){if((u-=4)<0)break;C.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}else throw new Error("Invalid code point")}return C}function Ce(f){for(var u=[],c=0;c<f.length;++c)u.push(f.charCodeAt(c)&255);return u}function G(f,u){for(var c,d,p,C=[],I=0;I<f.length&&!((u-=2)<0);++I)c=f.charCodeAt(I),d=c>>8,p=c%256,C.push(p),C.push(d);return C}function Ve(f){return e.toByteArray(ye(f))}function ve(f,u,c,d){for(var p=0;p<d&&!(p+c>=u.length||p>=f.length);++p)u[p+c]=f[p];return p}function te(f){return f!==f}})(X);var st={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(de,function(){var r=r||function(n,i){var s;if(typeof window!="undefined"&&window.crypto&&(s=window.crypto),typeof self!="undefined"&&self.crypto&&(s=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window!="undefined"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof de!="undefined"&&de.crypto&&(s=de.crypto),!s&&typeof Bs=="function")try{s=require("crypto")}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function E(){}return function(F){var N;return E.prototype=F,N=new E,E.prototype=null,N}}(),l={},h=l.lib={},m=h.Base=function(){return{extend:function(E){var F=a(this);return E&&F.mixIn(E),(!F.hasOwnProperty("init")||this.init===F.init)&&(F.init=function(){F.$super.init.apply(this,arguments)}),F.init.prototype=F,F.$super=this,F},create:function(){var E=this.extend();return E.init.apply(E,arguments),E},init:function(){},mixIn:function(E){for(var F in E)E.hasOwnProperty(F)&&(this[F]=E[F]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),g=h.WordArray=m.extend({init:function(E,F){E=this.words=E||[],F!=i?this.sigBytes=F:this.sigBytes=E.length*4},toString:function(E){return(E||w).stringify(this)},concat:function(E){var F=this.words,N=E.words,_=this.sigBytes,j=E.sigBytes;if(this.clamp(),_%4)for(var q=0;q<j;q++){var L=N[q>>>2]>>>24-q%4*8&255;F[_+q>>>2]|=L<<24-(_+q)%4*8}else for(var Z=0;Z<j;Z+=4)F[_+Z>>>2]=N[Z>>>2];return this.sigBytes+=j,this},clamp:function(){var E=this.words,F=this.sigBytes;E[F>>>2]&=4294967295<<32-F%4*8,E.length=n.ceil(F/4)},clone:function(){var E=m.clone.call(this);return E.words=this.words.slice(0),E},random:function(E){for(var F=[],N=0;N<E;N+=4)F.push(o());return new g.init(F,E)}}),v=l.enc={},w=v.Hex={stringify:function(E){for(var F=E.words,N=E.sigBytes,_=[],j=0;j<N;j++){var q=F[j>>>2]>>>24-j%4*8&255;_.push((q>>>4).toString(16)),_.push((q&15).toString(16))}return _.join("")},parse:function(E){for(var F=E.length,N=[],_=0;_<F;_+=2)N[_>>>3]|=parseInt(E.substr(_,2),16)<<24-_%8*4;return new g.init(N,F/2)}},D=v.Latin1={stringify:function(E){for(var F=E.words,N=E.sigBytes,_=[],j=0;j<N;j++){var q=F[j>>>2]>>>24-j%4*8&255;_.push(String.fromCharCode(q))}return _.join("")},parse:function(E){for(var F=E.length,N=[],_=0;_<F;_++)N[_>>>2]|=(E.charCodeAt(_)&255)<<24-_%4*8;return new g.init(N,F)}},A=v.Utf8={stringify:function(E){try{return decodeURIComponent(escape(D.stringify(E)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(E){return D.parse(unescape(encodeURIComponent(E)))}},U=h.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(E){typeof E=="string"&&(E=A.parse(E)),this._data.concat(E),this._nDataBytes+=E.sigBytes},_process:function(E){var F,N=this._data,_=N.words,j=N.sigBytes,q=this.blockSize,L=q*4,Z=j/L;E?Z=n.ceil(Z):Z=n.max((Z|0)-this._minBufferSize,0);var se=Z*q,fe=n.min(se*4,j);if(se){for(var he=0;he<se;he+=q)this._doProcessBlock(_,he);F=_.splice(0,se),N.sigBytes-=fe}return new g.init(F,fe)},clone:function(){var E=m.clone.call(this);return E._data=this._data.clone(),E},_minBufferSize:0});h.Hasher=U.extend({cfg:m.extend(),init:function(E){this.cfg=this.cfg.extend(E),this.reset()},reset:function(){U.reset.call(this),this._doReset()},update:function(E){return this._append(E),this._process(),this},finalize:function(E){E&&this._append(E);var F=this._doFinalize();return F},blockSize:16,_createHelper:function(E){return function(F,N){return new E.init(N).finalize(F)}},_createHmacHelper:function(E){return function(F,N){return new M.HMAC.init(E,N).finalize(F)}}});var M=l.algo={};return l}(Math);return r})})(st);var Ze=st.exports,wu={exports:{}};(function(t,e){(function(r,n){t.exports=n(st.exports)})(de,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,s=i.WordArray,o=s.init,a=s.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var h=l.byteLength,m=[],g=0;g<h;g++)m[g>>>2]|=l[g]<<24-g%4*8;o.call(this,m,h)}else o.apply(this,arguments)};a.prototype=s}}(),r.lib.WordArray})})(wu);var Jr={exports:{}};(function(t,e){(function(r,n){t.exports=n(st.exports)})(de,function(r){return function(n){var i=r,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,h=[],m=[];(function(){function w(M){for(var E=n.sqrt(M),F=2;F<=E;F++)if(!(M%F))return!1;return!0}function D(M){return(M-(M|0))*4294967296|0}for(var A=2,U=0;U<64;)w(A)&&(U<8&&(h[U]=D(n.pow(A,1/2))),m[U]=D(n.pow(A,1/3)),U++),A++})();var g=[],v=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(h.slice(0))},_doProcessBlock:function(w,D){for(var A=this._hash.words,U=A[0],M=A[1],E=A[2],F=A[3],N=A[4],_=A[5],j=A[6],q=A[7],L=0;L<64;L++){if(L<16)g[L]=w[D+L]|0;else{var Z=g[L-15],se=(Z<<25|Z>>>7)^(Z<<14|Z>>>18)^Z>>>3,fe=g[L-2],he=(fe<<15|fe>>>17)^(fe<<13|fe>>>19)^fe>>>10;g[L]=se+g[L-7]+he+g[L-16]}var We=N&_^~N&j,De=U&M^U&E^M&E,Te=(U<<30|U>>>2)^(U<<19|U>>>13)^(U<<10|U>>>22),ot=(N<<26|N>>>6)^(N<<21|N>>>11)^(N<<7|N>>>25),Le=q+ot+We+m[L]+g[L],at=Te+De;q=j,j=_,_=N,N=F+Le|0,F=E,E=M,M=U,U=Le+at|0}A[0]=A[0]+U|0,A[1]=A[1]+M|0,A[2]=A[2]+E|0,A[3]=A[3]+F|0,A[4]=A[4]+N|0,A[5]=A[5]+_|0,A[6]=A[6]+j|0,A[7]=A[7]+q|0},_doFinalize:function(){var w=this._data,D=w.words,A=this._nDataBytes*8,U=w.sigBytes*8;return D[U>>>5]|=128<<24-U%32,D[(U+64>>>9<<4)+14]=n.floor(A/4294967296),D[(U+64>>>9<<4)+15]=A,w.sigBytes=D.length*4,this._process(),this._hash},clone:function(){var w=a.clone.call(this);return w._hash=this._hash.clone(),w}});i.SHA256=a._createHelper(v),i.HmacSHA256=a._createHmacHelper(v)}(Math),r.SHA256})})(Jr);var Su=Jr.exports,rs={exports:{}},ns={exports:{}};(function(t,e){(function(r,n){t.exports=n(st.exports)})(de,function(r){(function(){var n=r,i=n.lib,s=i.Base,o=n.enc,a=o.Utf8,l=n.algo;l.HMAC=s.extend({init:function(h,m){h=this._hasher=new h.init,typeof m=="string"&&(m=a.parse(m));var g=h.blockSize,v=g*4;m.sigBytes>v&&(m=h.finalize(m)),m.clamp();for(var w=this._oKey=m.clone(),D=this._iKey=m.clone(),A=w.words,U=D.words,M=0;M<g;M++)A[M]^=1549556828,U[M]^=909522486;w.sigBytes=D.sigBytes=v,this.reset()},reset:function(){var h=this._hasher;h.reset(),h.update(this._iKey)},update:function(h){return this._hasher.update(h),this},finalize:function(h){var m=this._hasher,g=m.finalize(h);m.reset();var v=m.finalize(this._oKey.clone().concat(g));return v}})})()})})(ns);(function(t,e){(function(r,n,i){t.exports=n(st.exports,Jr.exports,ns.exports)})(de,function(r){return r.HmacSHA256})})(rs);var rr=rs.exports,Fe;typeof window!="undefined"&&window.crypto&&(Fe=window.crypto);!Fe&&typeof window!="undefined"&&window.msCrypto&&(Fe=window.msCrypto);!Fe&&typeof global!="undefined"&&global.crypto&&(Fe=global.crypto);if(!Fe&&typeof require=="function")try{Fe=require("crypto")}catch{}function Tu(){if(Fe){if(typeof Fe.getRandomValues=="function")try{return Fe.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof Fe.randomBytes=="function")try{return Fe.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")}function Eu(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var s=e[i>>>2]>>>24-i%4*8&255;n.push((s>>>4).toString(16)),n.push((s&15).toString(16))}return n.join("")}var Cu=function(){function t(r,n){r=this.words=r||[],n!=null?this.sigBytes=n:this.sigBytes=r.length*4}var e=t.prototype;return e.random=function(n){for(var i=[],s=0;s<n;s+=4)i.push(Tu());return new t(i,n)},e.toString=function(){return Eu(this)},t}();function P(t,e){t!=null&&this.fromString(t,e)}function pe(){return new P(null)}var Ye,Au=244837814094590,Fn=(Au&16777215)==15715070;function Iu(t,e,r,n,i,s){for(;--s>=0;){var o=e*this[t++]+r[n]+i;i=Math.floor(o/67108864),r[n++]=o&67108863}return i}function Du(t,e,r,n,i,s){for(var o=e&32767,a=e>>15;--s>=0;){var l=this[t]&32767,h=this[t++]>>15,m=a*l+h*o;l=o*l+((m&32767)<<15)+r[n]+(i&1073741823),i=(l>>>30)+(m>>>15)+a*h+(i>>>30),r[n++]=l&1073741823}return i}function xu(t,e,r,n,i,s){for(var o=e&16383,a=e>>14;--s>=0;){var l=this[t]&16383,h=this[t++]>>14,m=a*l+h*o;l=o*l+((m&16383)<<14)+r[n]+i,i=(l>>28)+(m>>14)+a*h,r[n++]=l&268435455}return i}var Pn=typeof navigator!="undefined";Pn&&Fn&&navigator.appName=="Microsoft Internet Explorer"?(P.prototype.am=Du,Ye=30):Pn&&Fn&&navigator.appName!="Netscape"?(P.prototype.am=Iu,Ye=26):(P.prototype.am=xu,Ye=28);P.prototype.DB=Ye;P.prototype.DM=(1<<Ye)-1;P.prototype.DV=1<<Ye;var Gr=52;P.prototype.FV=Math.pow(2,Gr);P.prototype.F1=Gr-Ye;P.prototype.F2=2*Ye-Gr;var Uu="0123456789abcdefghijklmnopqrstuvwxyz",ar=new Array,Tt,Re;Tt="0".charCodeAt(0);for(Re=0;Re<=9;++Re)ar[Tt++]=Re;Tt="a".charCodeAt(0);for(Re=10;Re<36;++Re)ar[Tt++]=Re;Tt="A".charCodeAt(0);for(Re=10;Re<36;++Re)ar[Tt++]=Re;function Rn(t){return Uu.charAt(t)}function Ou(t,e){var r=ar[t.charCodeAt(e)];return r==null?-1:r}function Fu(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function Pu(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function Xr(t){var e=pe();return e.fromInt(t),e}function Ru(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var n=t.length,i=!1,s=0;--n>=0;){var o=Ou(t,n);if(o<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this[this.t++]=o:s+r>this.DB?(this[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this[this.t++]=o>>this.DB-s):this[this.t-1]|=o<<s,s+=r,s>=this.DB&&(s-=this.DB)}this.clamp(),i&&P.ZERO.subTo(this,this)}function Mu(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function Nu(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");var r=(1<<e)-1,n,i=!1,s="",o=this.t,a=this.DB-o*this.DB%e;if(o-- >0)for(a<this.DB&&(n=this[o]>>a)>0&&(i=!0,s=Rn(n));o>=0;)a<e?(n=(this[o]&(1<<a)-1)<<e-a,n|=this[--o]>>(a+=this.DB-e)):(n=this[o]>>(a-=e)&r,a<=0&&(a+=this.DB,--o)),n>0&&(i=!0),i&&(s+=Rn(n));return i?s:"0"}function ku(){var t=pe();return P.ZERO.subTo(this,t),t}function bu(){return this.s<0?this.negate():this}function _u(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this[r]-t[r])!=0)return e;return 0}function Qr(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function Vu(){return this.t<=0?0:this.DB*(this.t-1)+Qr(this[this.t-1]^this.s&this.DM)}function Bu(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s}function Lu(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s}function qu(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(t/this.DB),o=this.s<<r&this.DM,a;for(a=this.t-1;a>=0;--a)e[a+s+1]=this[a]>>n|o,o=(this[a]&i)<<r;for(a=s-1;a>=0;--a)e[a]=0;e[s]=o,e.t=this.t+s+1,e.s=this.s,e.clamp()}function Hu(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,s=(1<<n)-1;e[0]=this[r]>>n;for(var o=r+1;o<this.t;++o)e[o-r-1]|=(this[o]&s)<<i,e[o-r]=this[o]>>n;n>0&&(e[this.t-r-1]|=(this.s&s)<<i),e.t=this.t-r,e.clamp()}function Wu(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()}function Ku(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e[i]=0;for(i=0;i<n.t;++i)e[i+r.t]=r.am(0,n[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&P.ZERO.subTo(e,e)}function $u(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()}function ju(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e!=null&&e.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=pe());var s=pe(),o=this.s,a=t.s,l=this.DB-Qr(n[n.t-1]);l>0?(n.lShiftTo(l,s),i.lShiftTo(l,r)):(n.copyTo(s),i.copyTo(r));var h=s.t,m=s[h-1];if(m!=0){var g=m*(1<<this.F1)+(h>1?s[h-2]>>this.F2:0),v=this.FV/g,w=(1<<this.F1)/g,D=1<<this.F2,A=r.t,U=A-h,M=e==null?pe():e;for(s.dlShiftTo(U,M),r.compareTo(M)>=0&&(r[r.t++]=1,r.subTo(M,r)),P.ONE.dlShiftTo(h,M),M.subTo(s,s);s.t<h;)s[s.t++]=0;for(;--U>=0;){var E=r[--A]==m?this.DM:Math.floor(r[A]*v+(r[A-1]+D)*w);if((r[A]+=s.am(0,E,r,U,0,h))<E)for(s.dlShiftTo(U,M),r.subTo(M,r);r[A]<--E;)r.subTo(M,r)}e!=null&&(r.drShiftTo(h,e),o!=a&&P.ZERO.subTo(e,e)),r.t=h,r.clamp(),l>0&&r.rShiftTo(l,r),o<0&&P.ZERO.subTo(r,r)}}}function zu(t){var e=pe();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(P.ZERO)>0&&t.subTo(e,e),e}function Zu(){if(this.t<1)return 0;var t=this[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function Yu(t){return this.compareTo(t)==0}function Ju(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()}function Gu(t){var e=pe();return this.addTo(t,e),e}function Xu(t){var e=pe();return this.subTo(t,e),e}function Qu(t){var e=pe();return this.multiplyTo(t,e),e}function ec(t){var e=pe();return this.divRemTo(t,e,null),e}function Et(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function tc(t){var e=pe();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(P.ZERO)>0&&this.m.subTo(e,e),e}function rc(t){var e=pe();return t.copyTo(e),this.reduce(e),e}function nc(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t[e]&32767,n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t[r]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function ic(t,e){t.squareTo(e),this.reduce(e)}function sc(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Et.prototype.convert=tc;Et.prototype.revert=rc;Et.prototype.reduce=nc;Et.prototype.mulTo=sc;Et.prototype.sqrTo=ic;function oc(t,e,r){var n=t.bitLength(),i,s=Xr(1),o=new Et(e);if(n<=0)return s;n<18?i=1:n<48?i=3:n<144?i=4:n<768?i=5:i=6;var a=new Array,l=3,h=i-1,m=(1<<i)-1;if(a[1]=o.convert(this),i>1){var g=pe();for(o.sqrTo(a[1],g);l<=m;)a[l]=pe(),o.mulTo(g,a[l-2],a[l]),l+=2}var v=t.t-1,w,D=!0,A=pe(),U;for(n=Qr(t[v])-1;v>=0;){for(n>=h?w=t[v]>>n-h&m:(w=(t[v]&(1<<n+1)-1)<<h-n,v>0&&(w|=t[v-1]>>this.DB+n-h)),l=i;(w&1)==0;)w>>=1,--l;if((n-=l)<0&&(n+=this.DB,--v),D)a[w].copyTo(s),D=!1;else{for(;l>1;)o.sqrTo(s,A),o.sqrTo(A,s),l-=2;l>0?o.sqrTo(s,A):(U=s,s=A,A=U),o.mulTo(A,a[w],s)}for(;v>=0&&(t[v]&1<<n)==0;)o.sqrTo(s,A),U=s,s=A,A=U,--n<0&&(n=this.DB-1,--v)}var M=o.revert(s);return r(null,M),M}P.prototype.copyTo=Fu;P.prototype.fromInt=Pu;P.prototype.fromString=Ru;P.prototype.clamp=Mu;P.prototype.dlShiftTo=Bu;P.prototype.drShiftTo=Lu;P.prototype.lShiftTo=qu;P.prototype.rShiftTo=Hu;P.prototype.subTo=Wu;P.prototype.multiplyTo=Ku;P.prototype.squareTo=$u;P.prototype.divRemTo=ju;P.prototype.invDigit=Zu;P.prototype.addTo=Ju;P.prototype.toString=Nu;P.prototype.negate=ku;P.prototype.abs=bu;P.prototype.compareTo=_u;P.prototype.bitLength=Vu;P.prototype.mod=zu;P.prototype.equals=Yu;P.prototype.add=Gu;P.prototype.subtract=Xu;P.prototype.multiply=Qu;P.prototype.divide=ec;P.prototype.modPow=oc;P.ZERO=Xr(0);P.ONE=Xr(1);/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t){return X.Buffer.from(new Cu().random(t).toString(),"hex")}var ac=/^[89a-f]/i,uc="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",cc="userAttributes.",ft=function(){function t(r){this.N=new P(uc,16),this.g=new P("2",16),this.k=new P(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=X.Buffer.from("Caldera Derived Key","utf8"),this.poolName=r}var e=t.prototype;return e.getSmallAValue=function(){return this.smallAValue},e.getLargeAValue=function(n){var i=this;this.largeAValue?n(null,this.largeAValue):this.calculateA(this.smallAValue,function(s,o){s&&n(s,null),i.largeAValue=o,n(null,i.largeAValue)})},e.generateRandomSmallA=function(){var n=Sr(128).toString("hex"),i=new P(n,16);return i},e.generateRandomString=function(){return Sr(40).toString("base64")},e.getRandomPassword=function(){return this.randomPassword},e.getSaltDevices=function(){return this.SaltToHashDevices},e.getVerifierDevices=function(){return this.verifierDevices},e.generateHashDevice=function(n,i,s){var o=this;this.randomPassword=this.generateRandomString();var a=""+n+i+":"+this.randomPassword,l=this.hash(a),h=Sr(16).toString("hex");this.SaltToHashDevices=this.padHex(new P(h,16)),this.g.modPow(new P(this.hexHash(this.SaltToHashDevices+l),16),this.N,function(m,g){m&&s(m,null),o.verifierDevices=o.padHex(g),s(null,null)})},e.calculateA=function(n,i){var s=this;this.g.modPow(n,this.N,function(o,a){o&&i(o,null),a.mod(s.N).equals(P.ZERO)&&i(new Error("Illegal paramater. A mod N cannot be 0."),null),i(null,a)})},e.calculateU=function(n,i){this.UHexHash=this.hexHash(this.padHex(n)+this.padHex(i));var s=new P(this.UHexHash,16);return s},e.hash=function(n){var i=n instanceof X.Buffer?Ze.lib.WordArray.create(n):n,s=Su(i).toString();return new Array(64-s.length).join("0")+s},e.hexHash=function(n){return this.hash(X.Buffer.from(n,"hex"))},e.computehkdf=function(n,i){var s=Ze.lib.WordArray.create(X.Buffer.concat([this.infoBits,X.Buffer.from(String.fromCharCode(1),"utf8")])),o=n instanceof X.Buffer?Ze.lib.WordArray.create(n):n,a=i instanceof X.Buffer?Ze.lib.WordArray.create(i):i,l=rr(o,a),h=rr(s,l);return X.Buffer.from(h.toString(),"hex").slice(0,16)},e.getPasswordAuthenticationKey=function(n,i,s,o,a){var l=this;if(s.mod(this.N).equals(P.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,s),this.UValue.equals(P.ZERO))throw new Error("U cannot be zero.");var h=""+this.poolName+n+":"+i,m=this.hash(h),g=new P(this.hexHash(this.padHex(o)+m),16);this.calculateS(g,s,function(v,w){v&&a(v,null);var D=l.computehkdf(X.Buffer.from(l.padHex(w),"hex"),X.Buffer.from(l.padHex(l.UValue),"hex"));a(null,D)})},e.calculateS=function(n,i,s){var o=this;this.g.modPow(n,this.N,function(a,l){a&&s(a,null);var h=i.subtract(o.k.multiply(l));h.modPow(o.smallAValue.add(o.UValue.multiply(n)),o.N,function(m,g){m&&s(m,null),s(null,g.mod(o.N))})})},e.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return cc},e.padHex=function(n){if(!(n instanceof P))throw new Error("Not a BigInteger");var i=n.compareTo(P.ZERO)<0,s=n.abs().toString(16);if(s=s.length%2!==0?"0"+s:s,s=ac.test(s)?"00"+s:s,i){var o=s.split("").map(function(l){var h=~parseInt(l,16)&15;return"0123456789ABCDEF".charAt(h)}).join(""),a=new P(o,16).add(P.ONE);s=a.toString(16),s.toUpperCase().startsWith("FF8")&&(s=s.substring(2))}return s},t}();/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var is=function(){function t(r){this.jwtToken=r||"",this.payload=this.decodePayload()}var e=t.prototype;return e.getJwtToken=function(){return this.jwtToken},e.getExpiration=function(){return this.payload.exp},e.getIssuedAt=function(){return this.payload.iat},e.decodePayload=function(){var n=this.jwtToken.split(".")[1];try{return JSON.parse(X.Buffer.from(n,"base64").toString("utf8"))}catch{return{}}},t}();function lc(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Pr(t,e)}function Pr(t,e){return Pr=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Pr(t,e)}var Mn=function(t){lc(e,t);function e(r){var n=r===void 0?{}:r,i=n.AccessToken;return t.call(this,i||"")||this}return e}(is);function fc(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Rr(t,e)}function Rr(t,e){return Rr=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Rr(t,e)}var Nn=function(t){fc(e,t);function e(r){var n=r===void 0?{}:r,i=n.IdToken;return t.call(this,i||"")||this}return e}(is);/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var kn=function(){function t(r){var n=r===void 0?{}:r,i=n.RefreshToken;this.token=i||""}var e=t.prototype;return e.getToken=function(){return this.token},t}(),ss={exports:{}};(function(t,e){(function(r,n){t.exports=n(st.exports)})(de,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,o=n.enc;o.Base64={stringify:function(l){var h=l.words,m=l.sigBytes,g=this._map;l.clamp();for(var v=[],w=0;w<m;w+=3)for(var D=h[w>>>2]>>>24-w%4*8&255,A=h[w+1>>>2]>>>24-(w+1)%4*8&255,U=h[w+2>>>2]>>>24-(w+2)%4*8&255,M=D<<16|A<<8|U,E=0;E<4&&w+E*.75<m;E++)v.push(g.charAt(M>>>6*(3-E)&63));var F=g.charAt(64);if(F)for(;v.length%4;)v.push(F);return v.join("")},parse:function(l){var h=l.length,m=this._map,g=this._reverseMap;if(!g){g=this._reverseMap=[];for(var v=0;v<m.length;v++)g[m.charCodeAt(v)]=v}var w=m.charAt(64);if(w){var D=l.indexOf(w);D!==-1&&(h=D)}return a(l,h,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,h,m){for(var g=[],v=0,w=0;w<h;w++)if(w%4){var D=m[l.charCodeAt(w-1)]<<w%4*2,A=m[l.charCodeAt(w)]>>>6-w%4*2,U=D|A;g[v>>>2]|=U<<24-v%4*8,v++}return s.create(g,v)}}(),r.enc.Base64})})(ss);var bn=ss.exports;/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var _n=function(){function t(r){var n=r===void 0?{}:r,i=n.IdToken,s=n.RefreshToken,o=n.AccessToken,a=n.ClockDrift;if(o==null||i==null)throw new Error("Id token and Access Token must be present.");this.idToken=i,this.refreshToken=s,this.accessToken=o,this.clockDrift=a===void 0?this.calculateClockDrift():a}var e=t.prototype;return e.getIdToken=function(){return this.idToken},e.getRefreshToken=function(){return this.refreshToken},e.getAccessToken=function(){return this.accessToken},e.getClockDrift=function(){return this.clockDrift},e.calculateClockDrift=function(){var n=Math.floor(new Date/1e3),i=Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt());return n-i},e.isValid=function(){var n=Math.floor(new Date/1e3),i=n-this.clockDrift;return i<this.accessToken.getExpiration()&&i<this.idToken.getExpiration()},t}();/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var hc=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dc=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Vn=function(){function t(){}var e=t.prototype;return e.getNowString=function(){var n=new Date,i=dc[n.getUTCDay()],s=hc[n.getUTCMonth()],o=n.getUTCDate(),a=n.getUTCHours();a<10&&(a="0"+a);var l=n.getUTCMinutes();l<10&&(l="0"+l);var h=n.getUTCSeconds();h<10&&(h="0"+h);var m=n.getUTCFullYear(),g=i+" "+s+" "+o+" "+a+":"+l+":"+h+" UTC "+m;return g},t}();/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var Yt=function(){function t(r){var n=r===void 0?{}:r,i=n.Name,s=n.Value;this.Name=i||"",this.Value=s||""}var e=t.prototype;return e.getValue=function(){return this.Value},e.setValue=function(n){return this.Value=n,this},e.getName=function(){return this.Name},e.setName=function(n){return this.Name=n,this},e.toString=function(){return JSON.stringify(this)},e.toJSON=function(){return{Name:this.Name,Value:this.Value}},t}();/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var Xe={},mc=function(){function t(){}return t.setItem=function(r,n){return Xe[r]=n,Xe[r]},t.getItem=function(r){return Object.prototype.hasOwnProperty.call(Xe,r)?Xe[r]:void 0},t.removeItem=function(r){return delete Xe[r]},t.clear=function(){return Xe={},Xe},t}(),os=function(){function t(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch{this.storageWindow=mc}}var e=t.prototype;return e.getStorage=function(){return this.storageWindow},t}();/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var gc=typeof navigator!="undefined",Bn=gc?navigator.userAgent:"nodejs",Rt=function(){function t(r){if(r==null||r.Username==null||r.Pool==null)throw new Error("Username and Pool information are required.");this.username=r.Username||"",this.pool=r.Pool,this.Session=null,this.client=r.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=r.Storage||new os().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var e=t.prototype;return e.setSignInUserSession=function(n){this.clearCachedUserData(),this.signInUserSession=n,this.cacheTokens()},e.getSignInUserSession=function(){return this.signInUserSession},e.getUsername=function(){return this.username},e.getAuthenticationFlowType=function(){return this.authenticationFlowType},e.setAuthenticationFlowType=function(n){this.authenticationFlowType=n},e.initiateAuth=function(n,i){var s=this,o=n.getAuthParameters();o.USERNAME=this.username;var a=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),l={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:o,ClientMetadata:a};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",l,function(h,m){if(h)return i.onFailure(h);var g=m.ChallengeName,v=m.ChallengeParameters;return g==="CUSTOM_CHALLENGE"?(s.Session=m.Session,i.customChallenge(v)):(s.signInUserSession=s.getCognitoUserSession(m.AuthenticationResult),s.cacheTokens(),i.onSuccess(s.signInUserSession))})},e.authenticateUser=function(n,i){return this.authenticationFlowType==="USER_PASSWORD_AUTH"?this.authenticateUserPlainUsernamePassword(n,i):this.authenticationFlowType==="USER_SRP_AUTH"||this.authenticationFlowType==="CUSTOM_AUTH"?this.authenticateUserDefaultAuth(n,i):i.onFailure(new Error("Authentication flow type is invalid."))},e.authenticateUserDefaultAuth=function(n,i){var s=this,o=new ft(this.pool.getUserPoolId().split("_")[1]),a=new Vn,l,h,m={};this.deviceKey!=null&&(m.DEVICE_KEY=this.deviceKey),m.USERNAME=this.username,o.getLargeAValue(function(g,v){g&&i.onFailure(g),m.SRP_A=v.toString(16),s.authenticationFlowType==="CUSTOM_AUTH"&&(m.CHALLENGE_NAME="SRP_A");var w=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),D={AuthFlow:s.authenticationFlowType,ClientId:s.pool.getClientId(),AuthParameters:m,ClientMetadata:w};s.getUserContextData(s.username)&&(D.UserContextData=s.getUserContextData(s.username)),s.client.request("InitiateAuth",D,function(A,U){if(A)return i.onFailure(A);var M=U.ChallengeParameters;s.username=M.USER_ID_FOR_SRP,s.userDataKey=s.keyPrefix+"."+s.username+".userData",l=new P(M.SRP_B,16),h=new P(M.SALT,16),s.getCachedDeviceKeyAndPassword(),o.getPasswordAuthenticationKey(s.username,n.getPassword(),l,h,function(E,F){E&&i.onFailure(E);var N=a.getNowString(),_=Ze.lib.WordArray.create(X.Buffer.concat([X.Buffer.from(s.pool.getUserPoolId().split("_")[1],"utf8"),X.Buffer.from(s.username,"utf8"),X.Buffer.from(M.SECRET_BLOCK,"base64"),X.Buffer.from(N,"utf8")])),j=Ze.lib.WordArray.create(F),q=bn.stringify(rr(_,j)),L={};L.USERNAME=s.username,L.PASSWORD_CLAIM_SECRET_BLOCK=M.SECRET_BLOCK,L.TIMESTAMP=N,L.PASSWORD_CLAIM_SIGNATURE=q,s.deviceKey!=null&&(L.DEVICE_KEY=s.deviceKey);var Z=function fe(he,We){return s.client.request("RespondToAuthChallenge",he,function(De,Te){return De&&De.code==="ResourceNotFoundException"&&De.message.toLowerCase().indexOf("device")!==-1?(L.DEVICE_KEY=null,s.deviceKey=null,s.randomPassword=null,s.deviceGroupKey=null,s.clearCachedDeviceKeyAndPassword(),fe(he,We)):We(De,Te)})},se={ChallengeName:"PASSWORD_VERIFIER",ClientId:s.pool.getClientId(),ChallengeResponses:L,Session:U.Session,ClientMetadata:w};s.getUserContextData()&&(se.UserContextData=s.getUserContextData()),Z(se,function(fe,he){return fe?i.onFailure(fe):s.authenticateUserInternal(he,o,i)})})})})},e.authenticateUserPlainUsernamePassword=function(n,i){var s=this,o={};if(o.USERNAME=this.username,o.PASSWORD=n.getPassword(),!o.PASSWORD){i.onFailure(new Error("PASSWORD parameter is required"));return}var a=new ft(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(o.DEVICE_KEY=this.deviceKey);var l=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),h={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:o,ClientMetadata:l};this.getUserContextData(this.username)&&(h.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",h,function(m,g){return m?i.onFailure(m):s.authenticateUserInternal(g,a,i)})},e.authenticateUserInternal=function(n,i,s){var o=this,a=n.ChallengeName,l=n.ChallengeParameters;if(a==="SMS_MFA")return this.Session=n.Session,s.mfaRequired(a,l);if(a==="SELECT_MFA_TYPE")return this.Session=n.Session,s.selectMFAType(a,l);if(a==="MFA_SETUP")return this.Session=n.Session,s.mfaSetup(a,l);if(a==="SOFTWARE_TOKEN_MFA")return this.Session=n.Session,s.totpRequired(a,l);if(a==="CUSTOM_CHALLENGE")return this.Session=n.Session,s.customChallenge(l);if(a==="NEW_PASSWORD_REQUIRED"){this.Session=n.Session;var h=null,m=null,g=[],v=i.getNewPasswordRequiredChallengeUserAttributePrefix();if(l&&(h=JSON.parse(n.ChallengeParameters.userAttributes),m=JSON.parse(n.ChallengeParameters.requiredAttributes)),m)for(var w=0;w<m.length;w++)g[w]=m[w].substr(v.length);return s.newPasswordRequired(h,g)}if(a==="DEVICE_SRP_AUTH"){this.Session=n.Session,this.getDeviceResponse(s);return}this.signInUserSession=this.getCognitoUserSession(n.AuthenticationResult),this.challengeName=a,this.cacheTokens();var D=n.AuthenticationResult.NewDeviceMetadata;if(D==null)return s.onSuccess(this.signInUserSession);i.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(A){if(A)return s.onFailure(A);var U={Salt:X.Buffer.from(i.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:X.Buffer.from(i.getVerifierDevices(),"hex").toString("base64")};o.verifierDevices=U.PasswordVerifier,o.deviceGroupKey=D.DeviceGroupKey,o.randomPassword=i.getRandomPassword(),o.client.request("ConfirmDevice",{DeviceKey:D.DeviceKey,AccessToken:o.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:U,DeviceName:Bn},function(M,E){return M?s.onFailure(M):(o.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,o.cacheDeviceKeyAndPassword(),E.UserConfirmationNecessary===!0?s.onSuccess(o.signInUserSession,E.UserConfirmationNecessary):s.onSuccess(o.signInUserSession))})})},e.completeNewPasswordChallenge=function(n,i,s,o){var a=this;if(!n)return s.onFailure(new Error("New password is required."));var l=new ft(this.pool.getUserPoolId().split("_")[1]),h=l.getNewPasswordRequiredChallengeUserAttributePrefix(),m={};i&&Object.keys(i).forEach(function(v){m[h+v]=i[v]}),m.NEW_PASSWORD=n,m.USERNAME=this.username;var g={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:m,Session:this.Session,ClientMetadata:o};this.getUserContextData()&&(g.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",g,function(v,w){return v?s.onFailure(v):a.authenticateUserInternal(w,l,s)})},e.getDeviceResponse=function(n,i){var s=this,o=new ft(this.deviceGroupKey),a=new Vn,l={};l.USERNAME=this.username,l.DEVICE_KEY=this.deviceKey,o.getLargeAValue(function(h,m){h&&n.onFailure(h),l.SRP_A=m.toString(16);var g={ChallengeName:"DEVICE_SRP_AUTH",ClientId:s.pool.getClientId(),ChallengeResponses:l,ClientMetadata:i,Session:s.Session};s.getUserContextData()&&(g.UserContextData=s.getUserContextData()),s.client.request("RespondToAuthChallenge",g,function(v,w){if(v)return n.onFailure(v);var D=w.ChallengeParameters,A=new P(D.SRP_B,16),U=new P(D.SALT,16);o.getPasswordAuthenticationKey(s.deviceKey,s.randomPassword,A,U,function(M,E){if(M)return n.onFailure(M);var F=a.getNowString(),N=Ze.lib.WordArray.create(X.Buffer.concat([X.Buffer.from(s.deviceGroupKey,"utf8"),X.Buffer.from(s.deviceKey,"utf8"),X.Buffer.from(D.SECRET_BLOCK,"base64"),X.Buffer.from(F,"utf8")])),_=Ze.lib.WordArray.create(E),j=bn.stringify(rr(N,_)),q={};q.USERNAME=s.username,q.PASSWORD_CLAIM_SECRET_BLOCK=D.SECRET_BLOCK,q.TIMESTAMP=F,q.PASSWORD_CLAIM_SIGNATURE=j,q.DEVICE_KEY=s.deviceKey;var L={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:s.pool.getClientId(),ChallengeResponses:q,Session:w.Session};s.getUserContextData()&&(L.UserContextData=s.getUserContextData()),s.client.request("RespondToAuthChallenge",L,function(Z,se){return Z?n.onFailure(Z):(s.signInUserSession=s.getCognitoUserSession(se.AuthenticationResult),s.cacheTokens(),n.onSuccess(s.signInUserSession))})})})})},e.confirmRegistration=function(n,i,s,o){var a={ClientId:this.pool.getClientId(),ConfirmationCode:n,Username:this.username,ForceAliasCreation:i,ClientMetadata:o};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",a,function(l){return l?s(l,null):s(null,"SUCCESS")})},e.sendCustomChallengeAnswer=function(n,i,s){var o=this,a={};a.USERNAME=this.username,a.ANSWER=n;var l=new ft(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(a.DEVICE_KEY=this.deviceKey);var h={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:a,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:s};this.getUserContextData()&&(h.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",h,function(m,g){return m?i.onFailure(m):o.authenticateUserInternal(g,l,i)})},e.sendMFACode=function(n,i,s,o){var a=this,l={};l.USERNAME=this.username,l.SMS_MFA_CODE=n;var h=s||"SMS_MFA";h==="SOFTWARE_TOKEN_MFA"&&(l.SOFTWARE_TOKEN_MFA_CODE=n),this.deviceKey!=null&&(l.DEVICE_KEY=this.deviceKey);var m={ChallengeName:h,ChallengeResponses:l,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:o};this.getUserContextData()&&(m.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",m,function(g,v){if(g)return i.onFailure(g);var w=v.ChallengeName;if(w==="DEVICE_SRP_AUTH"){a.getDeviceResponse(i);return}if(a.signInUserSession=a.getCognitoUserSession(v.AuthenticationResult),a.cacheTokens(),v.AuthenticationResult.NewDeviceMetadata==null)return i.onSuccess(a.signInUserSession);var D=new ft(a.pool.getUserPoolId().split("_")[1]);D.generateHashDevice(v.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,v.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(A){if(A)return i.onFailure(A);var U={Salt:X.Buffer.from(D.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:X.Buffer.from(D.getVerifierDevices(),"hex").toString("base64")};a.verifierDevices=U.PasswordVerifier,a.deviceGroupKey=v.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,a.randomPassword=D.getRandomPassword(),a.client.request("ConfirmDevice",{DeviceKey:v.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:a.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:U,DeviceName:Bn},function(M,E){return M?i.onFailure(M):(a.deviceKey=v.AuthenticationResult.NewDeviceMetadata.DeviceKey,a.cacheDeviceKeyAndPassword(),E.UserConfirmationNecessary===!0?i.onSuccess(a.signInUserSession,E.UserConfirmationNecessary):i.onSuccess(a.signInUserSession))})})})},e.changePassword=function(n,i,s,o){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return s(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:n,ProposedPassword:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:o},function(a){return a?s(a,null):s(null,"SUCCESS")})},e.enableMFA=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);var i=[],s={DeliveryMedium:"SMS",AttributeName:"phone_number"};i.push(s),this.client.request("SetUserSettings",{MFAOptions:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?n(o,null):n(null,"SUCCESS")})},e.setUserMfaPreference=function(n,i,s){if(this.signInUserSession==null||!this.signInUserSession.isValid())return s(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:n,SoftwareTokenMfaSettings:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?s(o,null):s(null,"SUCCESS")})},e.disableMFA=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);var i=[];this.client.request("SetUserSettings",{MFAOptions:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?n(s,null):n(null,"SUCCESS")})},e.deleteUser=function(n,i){var s=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:i},function(o){return o?n(o,null):(s.clearCachedUser(),n(null,"SUCCESS"))})},e.updateAttributes=function(n,i,s){var o=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:n,ClientMetadata:s},function(a){return a?i(a,null):o.getUserData(function(){return i(null,"SUCCESS")},{bypassCache:!0})})},e.getUserAttributes=function(n){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return n(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i,s){if(i)return n(i,null);for(var o=[],a=0;a<s.UserAttributes.length;a++){var l={Name:s.UserAttributes[a].Name,Value:s.UserAttributes[a].Value},h=new Yt(l);o.push(h)}return n(null,o)})},e.getMFAOptions=function(n){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return n(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i,s){return i?n(i,null):n(null,s.MFAOptions)})},e.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},e.refreshSessionIfPossible=function(n){var i=this;return n===void 0&&(n={}),new Promise(function(s){var o=i.signInUserSession.getRefreshToken();o&&o.getToken()?i.refreshSession(o,s,n.clientMetadata):s()})},e.getUserData=function(n,i){var s=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return this.clearCachedUserData(),n(new Error("User is not authenticated"),null);var o=this.getUserDataFromCache();if(!o){this.fetchUserData().then(function(a){n(null,a)}).catch(n);return}if(this.isFetchUserDataAndTokenRequired(i)){this.fetchUserData().then(function(a){return s.refreshSessionIfPossible(i).then(function(){return a})}).then(function(a){return n(null,a)}).catch(n);return}try{n(null,JSON.parse(o));return}catch(a){this.clearCachedUserData(),n(a,null);return}},e.getUserDataFromCache=function(){var n=this.storage.getItem(this.userDataKey);return n},e.isFetchUserDataAndTokenRequired=function(n){var i=n||{},s=i.bypassCache,o=s===void 0?!1:s;return o},e.fetchUserData=function(){var n=this;return this.createGetUserRequest().then(function(i){return n.cacheUserData(i),i})},e.deleteAttributes=function(n,i){var s=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return i(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:n,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?i(o,null):s.getUserData(function(){return i(null,"SUCCESS")},{bypassCache:!0})})},e.resendConfirmationCode=function(n,i){var s={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:i};this.client.request("ResendConfirmationCode",s,function(o,a){return o?n(o,null):n(null,a)})},e.getSession=function(n,i){if(i===void 0&&(i={}),this.username==null)return n(new Error("Username is null. Cannot retrieve a new session"),null);if(this.signInUserSession!=null&&this.signInUserSession.isValid())return n(null,this.signInUserSession);var s="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,o=s+".idToken",a=s+".accessToken",l=s+".refreshToken",h=s+".clockDrift";if(this.storage.getItem(o)){var m=new Nn({IdToken:this.storage.getItem(o)}),g=new Mn({AccessToken:this.storage.getItem(a)}),v=new kn({RefreshToken:this.storage.getItem(l)}),w=parseInt(this.storage.getItem(h),0)||0,D={IdToken:m,AccessToken:g,RefreshToken:v,ClockDrift:w},A=new _n(D);if(A.isValid())return this.signInUserSession=A,n(null,this.signInUserSession);if(!v.getToken())return n(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(v,n,i.clientMetadata)}else n(new Error("Local storage is missing an ID Token, Please authenticate"),null)},e.refreshSession=function(n,i,s){var o=this,a=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(i):i,l={};l.REFRESH_TOKEN=n.getToken();var h="CognitoIdentityServiceProvider."+this.pool.getClientId(),m=h+".LastAuthUser";if(this.storage.getItem(m)){this.username=this.storage.getItem(m);var g=h+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(g),l.DEVICE_KEY=this.deviceKey}var v={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:l,ClientMetadata:s};this.getUserContextData()&&(v.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",v,function(w,D){if(w)return w.code==="NotAuthorizedException"&&o.clearCachedUser(),a(w,null);if(D){var A=D.AuthenticationResult;return Object.prototype.hasOwnProperty.call(A,"RefreshToken")||(A.RefreshToken=n.getToken()),o.signInUserSession=o.getCognitoUserSession(A),o.cacheTokens(),a(null,o.signInUserSession)}})},e.cacheTokens=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId(),i=n+"."+this.username+".idToken",s=n+"."+this.username+".accessToken",o=n+"."+this.username+".refreshToken",a=n+"."+this.username+".clockDrift",l=n+".LastAuthUser";this.storage.setItem(i,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(s,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(o,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(a,""+this.signInUserSession.getClockDrift()),this.storage.setItem(l,this.username)},e.cacheUserData=function(n){this.storage.setItem(this.userDataKey,JSON.stringify(n))},e.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},e.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},e.cacheDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=n+".deviceKey",s=n+".randomPasswordKey",o=n+".deviceGroupKey";this.storage.setItem(i,this.deviceKey),this.storage.setItem(s,this.randomPassword),this.storage.setItem(o,this.deviceGroupKey)},e.getCachedDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=n+".deviceKey",s=n+".randomPasswordKey",o=n+".deviceGroupKey";this.storage.getItem(i)&&(this.deviceKey=this.storage.getItem(i),this.randomPassword=this.storage.getItem(s),this.deviceGroupKey=this.storage.getItem(o))},e.clearCachedDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=n+".deviceKey",s=n+".randomPasswordKey",o=n+".deviceGroupKey";this.storage.removeItem(i),this.storage.removeItem(s),this.storage.removeItem(o)},e.clearCachedTokens=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId(),i=n+"."+this.username+".idToken",s=n+"."+this.username+".accessToken",o=n+"."+this.username+".refreshToken",a=n+".LastAuthUser",l=n+"."+this.username+".clockDrift";this.storage.removeItem(i),this.storage.removeItem(s),this.storage.removeItem(o),this.storage.removeItem(a),this.storage.removeItem(l)},e.getCognitoUserSession=function(n){var i=new Nn(n),s=new Mn(n),o=new kn(n),a={IdToken:i,AccessToken:s,RefreshToken:o};return new _n(a)},e.forgotPassword=function(n,i){var s={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:i};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",s,function(o,a){return o?n.onFailure(o):typeof n.inputVerificationCode=="function"?n.inputVerificationCode(a):n.onSuccess(a)})},e.confirmPassword=function(n,i,s,o){var a={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:n,Password:i,ClientMetadata:o};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",a,function(l){return l?s.onFailure(l):s.onSuccess("SUCCESS")})},e.getAttributeVerificationCode=function(n,i,s){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:n,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:s},function(o,a){return o?i.onFailure(o):typeof i.inputVerificationCode=="function"?i.inputVerificationCode(a):i.onSuccess("SUCCESS")})},e.verifyAttribute=function(n,i,s){if(this.signInUserSession==null||!this.signInUserSession.isValid())return s.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:n,Code:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?s.onFailure(o):s.onSuccess("SUCCESS")})},e.getDevice=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(i,s){return i?n.onFailure(i):n.onSuccess(s)})},e.forgetSpecificDevice=function(n,i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:n},function(s){return s?i.onFailure(s):i.onSuccess("SUCCESS")})},e.forgetDevice=function(n){var i=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:n.onFailure,onSuccess:function(o){return i.deviceKey=null,i.deviceGroupKey=null,i.randomPassword=null,i.clearCachedDeviceKeyAndPassword(),n.onSuccess(o)}})},e.setDeviceStatusRemembered=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(i){return i?n.onFailure(i):n.onSuccess("SUCCESS")})},e.setDeviceStatusNotRemembered=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(i){return i?n.onFailure(i):n.onSuccess("SUCCESS")})},e.listDevices=function(n,i,s){if(this.signInUserSession==null||!this.signInUserSession.isValid())return s.onFailure(new Error("User is not authenticated"));var o={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:n};i&&(o.PaginationToken=i),this.client.request("ListDevices",o,function(a,l){return a?s.onFailure(a):s.onSuccess(l)})},e.globalSignOut=function(n){var i=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?n.onFailure(s):(i.clearCachedUser(),n.onSuccess("SUCCESS"))})},e.signOut=function(n){var i=this;if(!n||typeof n!="function"){this.cleanClientData();return}this.getSession(function(s,o){if(s)return n(s);i.revokeTokens(function(a){i.cleanClientData(),n(a)})})},e.revokeTokens=function(n){if(n===void 0&&(n=function(){}),typeof n!="function")throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession){var i=new Error("User is not authenticated");return n(i)}if(!this.signInUserSession.getAccessToken()){var s=new Error("No Access token available");return n(s)}var o=this.signInUserSession.getRefreshToken().getToken(),a=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(a)&&o)return this.revokeToken({token:o,callback:n});n()},e.isSessionRevocable=function(n){if(n&&typeof n.decodePayload=="function")try{var i=n.decodePayload(),s=i.origin_jti;return!!s}catch{}return!1},e.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},e.revokeToken=function(n){var i=n.token,s=n.callback;this.client.requestWithRetry("RevokeToken",{Token:i,ClientId:this.pool.getClientId()},function(o){if(o)return s(o);s()})},e.sendMFASelectionAnswer=function(n,i){var s=this,o={};o.USERNAME=this.username,o.ANSWER=n;var a={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,function(l,h){if(l)return i.onFailure(l);if(s.Session=h.Session,n==="SMS_MFA")return i.mfaRequired(h.ChallengeName,h.ChallengeParameters);if(n==="SOFTWARE_TOKEN_MFA")return i.totpRequired(h.ChallengeName,h.ChallengeParameters)})},e.getUserContextData=function(){var n=this.pool;return n.getUserContextData(this.username)},e.associateSoftwareToken=function(n){var i=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s,o){return s?n.onFailure(s):n.associateSecretCode(o.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(s,o){return s?n.onFailure(s):(i.Session=o.Session,n.associateSecretCode(o.SecretCode))})},e.verifySoftwareToken=function(n,i,s){var o=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:n,FriendlyDeviceName:i},function(a,l){return a?s.onFailure(a):s.onSuccess(l)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:n,FriendlyDeviceName:i},function(a,l){if(a)return s.onFailure(a);o.Session=l.Session;var h={};h.USERNAME=o.username;var m={ChallengeName:"MFA_SETUP",ClientId:o.pool.getClientId(),ChallengeResponses:h,Session:o.Session};o.getUserContextData()&&(m.UserContextData=o.getUserContextData()),o.client.request("RespondToAuthChallenge",m,function(g,v){return g?s.onFailure(g):(o.signInUserSession=o.getCognitoUserSession(v.AuthenticationResult),o.cacheTokens(),s.onSuccess(o.signInUserSession))})})},t}();function pc(t,e){return e=e||{},new Promise(function(r,n){var i=new XMLHttpRequest,s=[],o=[],a={},l=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:l,headers:{keys:function(){return s},entries:function(){return o},get:function(m){return a[m.toLowerCase()]},has:function(m){return m.toLowerCase()in a}}}};for(var h in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(m,g,v){s.push(g=g.toLowerCase()),o.push([g,v]),a[g]=a[g]?a[g]+","+v:v}),r(l())},i.onerror=n,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(h,e.headers[h]);i.send(e.body||null)})}var yc=Object.freeze(Object.defineProperty({__proto__:null,default:pc},Symbol.toStringTag,{value:"Module"})),Ln=Vs(yc);self.fetch||(self.fetch=Ln.default||Ln);var vc="5.0.4",Mr="aws-amplify/"+vc,et={userAgent:Mr+" js",product:"",navigator:null,isReactNative:!1};if(typeof navigator!="undefined"&&navigator.product)switch(et.product=navigator.product||"",et.navigator=navigator||null,navigator.product){case"ReactNative":et.userAgent=Mr+" react-native",et.isReactNative=!0;break;default:et.userAgent=Mr+" js",et.isReactNative=!1;break}var wc=function(){return et.userAgent};function as(){}as.prototype.userAgent=wc();function Sc(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Mt(t,e)}function Nr(t){var e=typeof Map=="function"?new Map:void 0;return Nr=function(n){if(n===null||!Ec(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Jt(n,arguments,kr(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Mt(i,n)},Nr(t)}function Jt(t,e,r){return Tc()?Jt=Reflect.construct:Jt=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),h=new l;return o&&Mt(h,o.prototype),h},Jt.apply(null,arguments)}function Tc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ec(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Mt(t,e){return Mt=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Mt(t,e)}function kr(t){return kr=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},kr(t)}var Cc=function(t){Sc(e,t);function e(r,n,i,s){var o;return o=t.call(this,r)||this,o.code=n,o.name=i,o.statusCode=s,o}return e}(Nr(Error)),Ac=function(){function t(r,n,i){this.endpoint=n||"https://cognito-idp."+r+".amazonaws.com/";var s=i||{},o=s.credentials;this.fetchOptions=o?{credentials:o}:{}}var e=t.prototype;return e.promisifyRequest=function(n,i){var s=this;return new Promise(function(o,a){s.request(n,i,function(l,h){l?a(new Cc(l.message,l.code,l.name,l.statusCode)):o(h)})})},e.requestWithRetry=function(n,i,s){var o=this,a=5*1e3;Uc(function(l){return new Promise(function(h,m){o.request(n,l,function(g,v){g?m(g):h(v)})})},[i],a).then(function(l){return s(null,l)}).catch(function(l){return s(l)})},e.request=function(n,i,s){var o={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+n,"X-Amz-User-Agent":as.prototype.userAgent},a=Object.assign({},this.fetchOptions,{headers:o,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(i)}),l;fetch(this.endpoint,a).then(function(h){return l=h,h},function(h){throw h instanceof TypeError?new Error("Network error"):h}).then(function(h){return h.json().catch(function(){return{}})}).then(function(h){if(l.ok)return s(null,h);var m=(h.__type||h.code).split("#").pop(),g=new Error(h.message||h.Message||null);return g.name=m,g.code=m,s(g)}).catch(function(h){if(l&&l.headers&&l.headers.get("x-amzn-errortype"))try{var m=l.headers.get("x-amzn-errortype").split(":")[0],g=new Error(l.status?l.status.toString():null);return g.code=m,g.name=m,g.statusCode=l.status,s(g)}catch{return s(h)}else h instanceof Error&&h.message==="Network error"&&(h.code="NetworkError");return s(h)})},t}(),jt={debug:function(){}},Ic=function(e){var r="nonRetryable";return e&&e[r]};function us(t,e,r,n){if(n===void 0&&(n=1),typeof t!="function")throw Error("functionToRetry must be a function");return jt.debug(t.name+" attempt #"+n+" with args: "+JSON.stringify(e)),t.apply(void 0,e).catch(function(i){if(jt.debug("error on "+t.name,i),Ic(i))throw jt.debug(t.name+" non retryable error",i),i;var s=r(n,e,i);if(jt.debug(t.name+" retrying in "+s+" ms"),s!==!1)return new Promise(function(o){return setTimeout(o,s)}).then(function(){return us(t,e,r,n+1)});throw i})}function Dc(t){var e=100,r=100;return function(n){var i=Math.pow(2,n)*e+r*Math.random();return i>t?!1:i}}var xc=5*60*1e3;function Uc(t,e,r){return r===void 0&&(r=xc),us(t,e,Dc(r))}/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var Oc=55,Ct=function(){function t(r,n){var i=r||{},s=i.UserPoolId,o=i.ClientId,a=i.endpoint,l=i.fetchOptions,h=i.AdvancedSecurityDataCollectionFlag;if(!s||!o)throw new Error("Both UserPoolId and ClientId are required.");if(s.length>Oc||!/^[\w-]+_[0-9a-zA-Z]+$/.test(s))throw new Error("Invalid UserPoolId format.");var m=s.split("_")[0];this.userPoolId=s,this.clientId=o,this.client=new Ac(m,a,l),this.advancedSecurityDataCollectionFlag=h!==!1,this.storage=r.Storage||new os().getStorage(),n&&(this.wrapRefreshSessionCallback=n)}var e=t.prototype;return e.getUserPoolId=function(){return this.userPoolId},e.getClientId=function(){return this.clientId},e.signUp=function(n,i,s,o,a,l){var h=this,m={ClientId:this.clientId,Username:n,Password:i,UserAttributes:s,ValidationData:o,ClientMetadata:l};this.getUserContextData(n)&&(m.UserContextData=this.getUserContextData(n)),this.client.request("SignUp",m,function(g,v){if(g)return a(g,null);var w={Username:n,Pool:h,Storage:h.storage},D={user:new Rt(w),userConfirmed:v.UserConfirmed,userSub:v.UserSub,codeDeliveryDetails:v.CodeDeliveryDetails};return a(null,D)})},e.getCurrentUser=function(){var n="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",i=this.storage.getItem(n);if(i){var s={Username:i,Pool:this,Storage:this.storage};return new Rt(s)}return null},e.getUserContextData=function(n){if(typeof AmazonCognitoAdvancedSecurityData!="undefined"){var i=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var s=i.getData(n,this.userPoolId,this.clientId);if(s){var o={EncodedData:s};return o}}return{}}},t}(),Fc={exports:{}};/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(t,e){(function(r){var n;if(t.exports=r(),n=!0,!n){var i=window.Cookies,s=window.Cookies=r();s.noConflict=function(){return window.Cookies=i,s}}})(function(){function r(){for(var s=0,o={};s<arguments.length;s++){var a=arguments[s];for(var l in a)o[l]=a[l]}return o}function n(s){return s.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function i(s){function o(){}function a(h,m,g){if(typeof document!="undefined"){g=r({path:"/"},o.defaults,g),typeof g.expires=="number"&&(g.expires=new Date(new Date*1+g.expires*864e5)),g.expires=g.expires?g.expires.toUTCString():"";try{var v=JSON.stringify(m);/^[\{\[]/.test(v)&&(m=v)}catch{}m=s.write?s.write(m,h):encodeURIComponent(String(m)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),h=encodeURIComponent(String(h)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var w="";for(var D in g)!g[D]||(w+="; "+D,g[D]!==!0&&(w+="="+g[D].split(";")[0]));return document.cookie=h+"="+m+w}}function l(h,m){if(typeof document!="undefined"){for(var g={},v=document.cookie?document.cookie.split("; "):[],w=0;w<v.length;w++){var D=v[w].split("="),A=D.slice(1).join("=");!m&&A.charAt(0)==='"'&&(A=A.slice(1,-1));try{var U=n(D[0]);if(A=(s.read||s)(A,U)||n(A),m)try{A=JSON.parse(A)}catch{}if(g[U]=A,h===U)break}catch{}}return h?g[h]:g}}return o.set=a,o.get=function(h){return l(h,!1)},o.getJSON=function(h){return l(h,!0)},o.remove=function(h,m){a(h,"",r(m,{expires:-1}))},o.defaults={},o.withConverter=i,o}return i(function(){})})})(Fc);const Pc=new zn.Logger,Rc={inProgress:!1},cs=Q.createSlice({initialState:Rc,name:"login",reducers:{setLoginFailure:(t,e)=>{t.lastUpdated=R.now().toISO(),t.success=!1,t.error=e.payload,t.inProgress=!1},setLoginInProgress:(t,e)=>{t.lastUpdated=R.now().toISO(),t.error=void 0,t.success=void 0,t.inProgress=e.payload},setLoginSuccess:t=>{t.lastUpdated=R.now().toISO(),t.error=void 0,t.success=!0,t.inProgress=!1}}});var Mc=cs.reducer;const{setLoginFailure:dt,setLoginInProgress:mt,setLoginSuccess:Tl}=cs.actions,Nc=({username:t,password:e})=>async(r,n)=>{try{if(r(mt(!0)),!t){const v=new ie.MissingArgumentException('"username" property is required.',{form:{field:"username",problem:we.FormValidationProblem.Required}});r(dt(v.toJSON()));return}if(!e){const v=new ie.MissingArgumentException('"password" property is required.',{form:{field:"password",problem:we.FormValidationProblem.Required}});r(dt(v.toJSON()));return}if(Zn.validate(t,{[we.Condition.IsEmailAddress]:!0}).length>0){const v=new ie.InvalidArgumentException('"username" value is not valid email.',{form:{field:"username",problem:we.FormValidationProblem.NotValidEmail}});r(dt(v.toJSON()));return}const s=n().app.config,o={Password:e,Username:t},a=new uu(o),l={ClientId:s.aws.cognito.userPoolClientId,UserPoolId:s.aws.cognito.userPoolId},m={Pool:new Ct(l),Username:t};new Rt(m).authenticateUser(a,{onFailure:v=>{const w=new ie.Exception("Error encountered while logging user in",{cause:v});r(dt(w.toJSON()))},onSuccess:v=>{const w=v.getAccessToken().getJwtToken()}})}catch(i){const s=i instanceof ie.Exception?i:new ie.AuthenticationLoginException("An unknown error occurred while logging a user in.",{cause:i});r(dt(s.toJSON()))}},ls=()=>async(t,e)=>{try{t(mt(!0));const r=e().app.config,n={ClientId:r.aws.cognito.userPoolClientId,UserPoolId:r.aws.cognito.userPoolId},s=new Ct(n).getCurrentUser();s===null?(t(Ft()),t(mt(!1))):s.getSession((o,a)=>{if(o){t(Ft()),t(mt(!1));return}if(!a){t(Ft()),t(mt(!1));return}if(!a.isValid())t(Ft()),t(mt(!1));else{const l=a.getIdToken().getJwtToken()}})}catch(r){const n=new ie.Exception("Error encountered getting user attributes",{cause:r});Pc.exception(n.toJSON()),t(dt(n.toJSON()))}},kc=()=>async(t,e)=>{const r=e().app.config,n={ClientId:r.aws.cognito.userPoolClientId,UserPoolId:r.aws.cognito.userPoolId},s=new Ct(n).getCurrentUser();s&&s.signOut(()=>{t(Ft())})},bc={inProgress:!1},fs=Q.createSlice({initialState:bc,name:"signup",reducers:{setSignupFailure:(t,e)=>{t.lastUpdated=R.now().toISO(),t.error=e.payload,t.inProgress=!1},setSignupInProgress:(t,e)=>{t.lastUpdated=R.now().toISO(),t.inProgress=e.payload},setSignupSuccess:(t,e)=>{t.lastUpdated=R.now().toISO(),t.inProgress=!1,t.userId=e.payload.userId,t.success=!0}}});var _c=fs.reducer;const{setSignupFailure:ht,setSignupInProgress:qn,setSignupSuccess:Vc}=fs.actions,Bc=({firstName:t,lastName:e,password:r,username:n})=>async(i,s)=>{try{if(i(qn(!0)),!n){const g=new ie.MissingArgumentException('"username" property is required.',{form:{field:"username",problem:we.FormValidationProblem.Required}});i(ht(g.toJSON()));return}if(!r){const g=new ie.MissingArgumentException('"password" property is required.',{form:{field:"password",problem:we.FormValidationProblem.Required}});i(ht(g.toJSON()));return}if(Zn.validate(n,{[we.Condition.IsEmailAddress]:!0}).length>0){const g=new ie.InvalidArgumentException('"username" value is not valid email.',{form:{field:"username",problem:we.FormValidationProblem.NotValidEmail}});i(ht(g.toJSON()));return}const a=s().app.config,l={ClientId:a.aws.cognito.userPoolClientId,UserPoolId:a.aws.cognito.userPoolId},h=new Ct(l),m=[new Yt({Name:"email",Value:n}),new Yt({Name:"given_name",Value:t}),new Yt({Name:"family_name",Value:e})];h.signUp(n,r,m,[],(g,v)=>{if(g){console.log("err",g);const A=new ie.Exception("Failure when signing user up",{cause:g});i(ht(A.toJSON()));return}if(!v){const A=new ie.Exception("Unknown error occurred",{});i(ht(A.toJSON()));return}const w=v==null?void 0:v.user,D=v.userSub;D&&(i(qn(!1)),i(Vc({userId:D})))})}catch(o){if(o.name===ie.AuthenticationException.name){i(ht(o.toJSON()));return}throw o}},Lc={inProgress:!1},hs=Q.createSlice({initialState:Lc,name:"usernameAvailability",reducers:{setCheckUsernameAvailabilityFailure:(t,e)=>{t.lastUpdated=R.now().toISO(),t.error=e.payload},setCheckUsernameAvailabilityInProgress:(t,e)=>{t.lastUpdated=R.now().toISO(),t.inProgress=e.payload},setCheckUsernameAvailabilitySuccess:(t,e)=>{t.lastUpdated=R.now().toISO(),t.available=e.payload}}});var qc=hs.reducer;const{setCheckUsernameAvailabilityFailure:Hc,setCheckUsernameAvailabilityInProgress:Hn,setCheckUsernameAvailabilitySuccess:El}=hs.actions,Wc=({username:t})=>async e=>{try{e(Hn(!0)),e(Hn(!1))}catch(r){const n=r instanceof ie.Exception?r:new ie.AuthenticationUsernameAvailabilityCheckException("An exception occurred while checking username availability",{cause:r,origin:{file:"src/state/user/authentication/username-availability.ts"}});e(Hc(n.toJSON()))}};function br(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Tr=function(){return Math.random().toString(36).substring(7).split("").join(".")},Wn={INIT:"@@redux/INIT"+Tr(),REPLACE:"@@redux/REPLACE"+Tr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Tr()}};function Kc(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:Wn.INIT});if(typeof n=="undefined")throw new Error(br(12));if(typeof r(void 0,{type:Wn.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(br(13))})}function ds(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var s=Object.keys(r),o;try{Kc(r)}catch(a){o=a}return function(l,h){if(l===void 0&&(l={}),o)throw o;for(var m=!1,g={},v=0;v<s.length;v++){var w=s[v],D=r[w],A=l[w],U=D(A,h);if(typeof U=="undefined")throw h&&h.type,new Error(br(14));g[w]=U,m=m||U!==A}return m=m||s.length!==Object.keys(l).length,m?g:l}}const $c={error:void 0,inProgress:!1,lastUpdated:void 0,success:void 0},ms=Q.createSlice({initialState:$c,name:"resend",reducers:{setVerificationCodeResendFailure:(t,e)=>{t.lastUpdated=R.now().toISO(),t.inProgress=!1,t.success=!1,t.error=e.payload},setVerificationCodeResendInProgress:(t,e)=>{t.lastUpdated=R.now().toISO(),t.error=void 0,t.success=void 0,t.inProgress=e.payload},setVerificationCodeResendSuccess:t=>{t.lastUpdated=R.now().toISO(),t.error=void 0,t.inProgress=!1,t.success=!0}}});var jc=ms.reducer;const{setVerificationCodeResendFailure:Kn,setVerificationCodeResendInProgress:zc,setVerificationCodeResendSuccess:Zc}=ms.actions,Yc=({userId:t})=>async(e,r)=>{try{e(zc(!0));const n=r().app.config,i={ClientId:n.aws.cognito.userPoolClientId,UserPoolId:n.aws.cognito.userPoolId},o={Pool:new Ct(i),Username:t};new Rt(o).resendConfirmationCode((l,h)=>{if(l){const m=new ie.Exception("Failure resending verification code",{cause:l});e(Kn(m.toJSON()));return}console.log("resendConfirmationCode result",h),e(Zc())})}catch(n){const i=new ie.Exception("Failure resending verification code",{cause:n});e(Kn(i.toJSON()))}},Jc={delivery:void 0,error:void 0,inProgress:!1,lastUpdated:void 0,status:void 0,success:void 0},gs=Q.createSlice({initialState:Jc,name:"status",reducers:{setVerificationStatusLookupFailure:(t,e)=>{t.lastUpdated=R.now().toISO(),t.success=!1,t.inProgress=!1,t.error=e.payload},setVerificationStatusLookupInProgress:(t,e)=>{t.lastUpdated=R.now().toISO(),t.error=void 0,t.success=void 0,t.inProgress=e.payload},setVerificationStatusLookupSuccess:(t,e)=>{t.lastUpdated=R.now().toISO(),t.error=void 0,t.status=e.payload.status,t.delivery=e.payload.delivery,t.inProgress=!1,t.success=!0}}});var Gc=gs.reducer;const{setVerificationStatusLookupFailure:Xc,setVerificationStatusLookupInProgress:Er,setVerificationStatusLookupSuccess:Cl}=gs.actions,Qc=({userId:t})=>async(e,r)=>{try{e(Er(!0)),e(Er(!1))}catch(n){const i=n instanceof ie.Exception?n:new ie.Exception(n.message,{cause:n});e(Xc(i.toJSON())),e(Er(!1))}},el={error:void 0,inProgress:!1,lastUpdated:void 0,success:void 0},ps=Q.createSlice({initialState:el,name:"verify",reducers:{setVerificationCodeVerifyFailure:(t,e)=>{t.lastUpdated=R.now().toISO(),t.error=e.payload,t.inProgress=!1},setVerificationCodeVerifyInProgress:(t,e)=>{t.lastUpdated=R.now().toISO(),t.inProgress=e.payload},setVerificationCodeVerifySuccess:t=>{t.lastUpdated=R.now().toISO(),t.error=void 0,t.success=!0,t.inProgress=!1}}});var tl=ps.reducer;const{setVerificationCodeVerifyFailure:rl,setVerificationCodeVerifyInProgress:nl,setVerificationCodeVerifySuccess:il}=ps.actions,sl=({code:t,userId:e})=>async(r,n)=>{r(nl(!0));const i=n().app.config,s={ClientId:i.aws.cognito.userPoolClientId,UserPoolId:i.aws.cognito.userPoolId},a={Pool:new Ct(s),Username:e};new Rt(a).confirmRegistration(t,!0,(h,m)=>{if(h){const g=new ie.Exception("Failure confirming verification code",{cause:h});r(rl(g.toJSON()));return}r(il())})};var ol=ds({resend:jc,status:Gc,verify:tl}),al=ds({code:ol});const ul={initialized:!1,lastUpdated:void 0,loggedIn:!1},ys=Q.createSlice({initialState:ul,name:"authentication",reducers:{setLoggedIn:(t,e)=>{t.lastUpdated=R.now().toISO(),t.tokens=e.payload,t.loggedIn=!0},setLoggedOut:t=>{t.lastUpdated=R.now().toISO(),t.tokens=void 0,t.loggedIn=!1}}}),{setLoggedIn:Al,setLoggedOut:Ft}=ys.actions;var cl=Q.combineReducers({state:ys.reducer,login:Mc,signup:_c,usernameAvailability:qc,verification:al});const ll={inProgress:!1},vs=Q.createSlice({initialState:ll,name:"details",reducers:{setError:(t,e)=>{t.error=e.payload},setInProgress:(t,e)=>{t.inProgress=e.payload},setUserAttributes:(t,e)=>{t.attributes=e.payload},setUserDetails:(t,e)=>{const{analytics:r,info:n,communication:i,preferences:s}=e.payload;t.communication=i,t.info=n,t.analytics=r,t.preferences=s},setUserPreferences:(t,e)=>{t.preferences=e.payload}}});vs.actions;var fl=vs.reducer,hl=Q.combineReducers({authentication:cl,details:fl});const dl=({models:t,reducers:e})=>Q.combineReducers(Ae(k({},e),{app:Xs,models:qs(t),ui:oo,user:hl})),ml=()=>Br.useDispatch(),gl=Br.useSelector,Gt=Q.createEntityAdapter({selectId:t=>t.id});Gt.getSelectors(t=>t.getState().paymentMethods);const pt=Q.createSlice({initialState:Gt.getInitialState({in_progress:!1,initialized:!1}),name:"payment_methods",reducers:{deletePaymentMethod:(t,e)=>Gt.removeOne(t,e.payload),setError:(t,e)=>{t.error=e.payload},setInProgress:(t,e)=>{t.in_progress=e.payload},setPaymentMethods:(t,e)=>{Gt.addMany(t,e.payload)}}}),pl=()=>async t=>{t(pt.actions.setInProgress(!0)),t(pt.actions.setInProgress(!0))},yl=t=>async e=>{e(pt.actions.setInProgress(!0)),e(pt.actions.deletePaymentMethod(t)),e(pt.actions.setInProgress(!1))};pt.reducer;const _r=Q.createEntityAdapter({selectId:t=>t.id});_r.getSelectors(t=>t.getState().subscriptions);const Vr=Q.createSlice({initialState:_r.getInitialState({in_progress:!1,initialized:!1}),name:"subscriptions",reducers:{setError:(t,e)=>{t.error=e.payload},setInProgress:(t,e)=>{t.in_progress=e.payload},setSubscriptions:(t,e)=>_r.setAll(t,e.payload)}}),vl=()=>async t=>{t(Vr.actions.setInProgress(!0)),t(Vr.actions.setInProgress(!0))};Vr.reducer;const $n=Ns(),ws=Us.createBrowserHistory(),Ss=({models:t,reducers:e,middleware:r=[]})=>Q.configureStore({devTools:$n.type===we.EnvironmentType.Development||$n.type===we.EnvironmentType.NonProduction,middleware:n=>[...n(),...Ls(ws,r)],reducer:dl({models:t,reducers:e})}),wl=async({actions:t,authentication:e=!1,container:r,config:n,httpClient:i,routes:s,store:o})=>{var a,l,h,m;return await o.dispatch($s(n)),(l=(a=n==null?void 0:n.ui)==null?void 0:a.themes)!=null&&l.custom&&await o.dispatch(ri(n.ui.themes.custom)),(m=(h=n==null?void 0:n.ui)==null?void 0:h.themes)!=null&&m.default&&await o.dispatch(ni(n.ui.themes.default)),await o.dispatch(Js(s.map(w=>{var D=w,{component:g}=D,v=Lt(D,["component"]);return k({},v)}))),e&&await o.dispatch(ls()),Fs.default.render(Me.default.createElement(jn.StrictMode,null,Me.default.createElement(Br.Provider,{store:o},Me.default.createElement(le.BrowserRouter,null,Me.default.createElement(le.Routes,null,Me.default.createElement(le.Route,{path:"/",element:r},s.map((g,v)=>g.role===we.PageRole.Index?Me.default.createElement(le.Route,{index:!0,element:Me.default.createElement(g.component,{actions:t,httpClient:i}),key:v}):g.path?Me.default.createElement(le.Route,{element:Me.default.createElement(g.component,{actions:t,httpClient:i}),key:v,path:g.path}):Me.default.createElement(le.Route,{element:Me.default.createElement(g.component,{actions:t,httpClient:i}),key:v}))))))),document.querySelector("#root"))};Object.defineProperty(exports,"Link",{enumerable:!0,get:function(){return le.Link}});Object.defineProperty(exports,"NavLink",{enumerable:!0,get:function(){return le.NavLink}});Object.defineProperty(exports,"Navigate",{enumerable:!0,get:function(){return le.Navigate}});Object.defineProperty(exports,"Outlet",{enumerable:!0,get:function(){return le.Outlet}});Object.defineProperty(exports,"Route",{enumerable:!0,get:function(){return le.Route}});Object.defineProperty(exports,"Router",{enumerable:!0,get:function(){return le.Router}});Object.defineProperty(exports,"Routes",{enumerable:!0,get:function(){return le.Routes}});Object.defineProperty(exports,"useLocation",{enumerable:!0,get:function(){return le.useLocation}});Object.defineProperty(exports,"useMatch",{enumerable:!0,get:function(){return le.useMatch}});Object.defineProperty(exports,"useNavigate",{enumerable:!0,get:function(){return le.useNavigate}});Object.defineProperty(exports,"useParams",{enumerable:!0,get:function(){return le.useParams}});Object.defineProperty(exports,"useResolvedPath",{enumerable:!0,get:function(){return le.useResolvedPath}});Object.defineProperty(exports,"useSearchParams",{enumerable:!0,get:function(){return le.useSearchParams}});Object.defineProperty(exports,"matchPath",{enumerable:!0,get:function(){return Yn.matchPath}});Object.defineProperty(exports,"matchRoutes",{enumerable:!0,get:function(){return Yn.matchRoutes}});exports.addThemes=ri;exports.addToastNotification=ro;exports.checkUsernameAvailability=Wc;exports.closeModal=eo;exports.createStore=Ss;exports.deletePaymentMethod=yl;exports.getPaymentMethods=pl;exports.getSubscriptions=vl;exports.getVerificationDetails=Qc;exports.hideModelPanel=Ws;exports.history=ws;exports.login=Nc;exports.logout=kc;exports.refreshSession=ls;exports.renderReduxWebApp=wl;exports.resendVerificationCode=Yc;exports.setTheme=ni;exports.showModal=to;exports.showModelPanel=Hs;exports.signUp=Bc;exports.store=Ss;exports.useDispatch=ml;exports.useSelector=gl;exports.verifyCode=sl;
//# sourceMappingURL=index.cjs.js.map
